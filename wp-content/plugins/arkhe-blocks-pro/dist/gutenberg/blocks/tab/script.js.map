{"version":3,"file":"blocks/tab/script.js","mappings":"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","sources":["webpack://arkhe-blocks/./src/gutenberg/blocks/tab/script.js"],"sourcesContent":["// tab-611a011e-2\ndocument.addEventListener('DOMContentLoaded', function () {\n\t// タブへのリンクがあるかどうか\n\tconst nowUrl = window.location.href;\n\tconst hasTabLink = -1 !== nowUrl.indexOf('?arkb-tab=');\n\n\tconst tabs = document.querySelectorAll('.ark-block-tab');\n\ttabs.forEach((tab) => {\n\t\tconst tabButtons = tab.querySelectorAll('.arkb-tabList__button');\n\t\ttabButtons.forEach((tabBtn) => {\n\t\t\ttabBtn.addEventListener('click', function (e) {\n\t\t\t\t// タブへのリンクをURLにセット → そこまではやりすぎな気がするのでオフ\n\t\t\t\t// if (hasTabLink) {\n\t\t\t\t// \twindow.history.pushState({}, '', `?tab=${indx}#${tab.id}`);\n\t\t\t\t// }\n\t\t\t\ttabControl(e);\n\t\t\t});\n\t\t});\n\n\t\t// URLでタブを切り替える機能がONかどうか\n\t\tif (hasTabLink) {\n\t\t\t// URLSearchParamsオブジェクトを取得\n\t\t\tconst url = new URL(nowUrl);\n\t\t\tconst params = url.searchParams;\n\n\t\t\t// getメソッド\n\t\t\tconst targetTabId = params.get('arkb-tab');\n\t\t\tconst target = tab.querySelector(`[aria-controls=\"tab-${targetTabId}\"]`);\n\t\t\tif (target) {\n\t\t\t\t// transitionをオフにするための属性\n\t\t\t\ttab.dataset.hasTabLink = '1';\n\n\t\t\t\t// タブ切り替え\n\t\t\t\ttoggleAriaData(target);\n\n\t\t\t\t// 少し後で属性削除\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\tdelete tab.dataset.hasTabLink;\n\t\t\t\t}, 5);\n\t\t\t}\n\t\t}\n\t});\n});\n\n/**\n * タブ\n */\nfunction tabControl(e) {\n\te.preventDefault();\n\n\t// クリックイベントがキー（Enter / space）によって呼び出されたかどうか\n\tconst iskeyClick = 0 === e.clientX;\n\n\t// クリックされたボタン要素\n\tconst clickedButton = e.currentTarget;\n\n\t// マウスクリック時はフォーカスを外す\n\tif (!iskeyClick) {\n\t\tclickedButton.blur();\n\t}\n\n\t// 属性の切り替え\n\ttoggleAriaData(clickedButton);\n}\n\nconst toggleAriaData = (clickedButton) => {\n\t// すでにオープンされているタブの場合はなにもしない\n\tconst isOpend = 'true' === clickedButton.getAttribute('aria-selected');\n\tif (isOpend) return;\n\n\t// 新しく表示するBodyを取得\n\tconst targetID = clickedButton.getAttribute('aria-controls');\n\tconst targetBody = document.getElementById(targetID);\n\tif (null === targetBody) return;\n\n\t// 親のタブリスト(ul)を取得\n\tconst parentTabList = clickedButton.parentNode.parentNode;\n\n\t// 現在選択中のタブボタンを取得\n\tconst selectedButton = parentTabList.querySelector('[aria-selected=\"true\"]');\n\n\t// 展開中のBodyを取得\n\tconst displayedID = selectedButton.getAttribute('aria-controls');\n\tconst displayedBody = document.getElementById(displayedID);\n\n\t// ariaの処理\n\tclickedButton.setAttribute('aria-selected', 'true');\n\tselectedButton.setAttribute('aria-selected', 'false');\n\tdisplayedBody.setAttribute('aria-hidden', 'true');\n\ttargetBody.setAttribute('aria-hidden', 'false');\n};\n"],"names":["document","addEventListener","nowUrl","window","location","href","hasTabLink","indexOf","tabs","querySelectorAll","forEach","tab","tabButtons","tabBtn","e","tabControl","url","URL","params","searchParams","targetTabId","get","target","querySelector","dataset","toggleAriaData","setTimeout","preventDefault","iskeyClick","clientX","clickedButton","currentTarget","blur","isOpend","getAttribute","targetID","targetBody","getElementById","parentTabList","parentNode","selectedButton","displayedID","displayedBody","setAttribute"],"sourceRoot":""}
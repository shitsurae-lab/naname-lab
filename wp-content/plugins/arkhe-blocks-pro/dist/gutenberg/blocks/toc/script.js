(()=>{"use strict";var t={};function e(t,e){const o=e.join("|")||"",r=new RegExp("(?!<\\/?("+o+")(>|\\s[^>]*>))<(\"[^\"]*\"|\\'[^\\']*\\'|[^\\'\">])*>","gim");return t.replace(r,"")}function o(t){return parseInt(t.replace(/[^0-9]/gi,""))}t.d=(e,o)=>{for(var r in o)t.o(o,r)&&!t.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:o[r]})},t.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),document.addEventListener("DOMContentLoaded",(function(){!function(){const t=document.querySelector("#main_content .c-postContent");if(null===t)return;const r=document.querySelectorAll(".ark-block-toc");if(1>r.length)return;let l=window.arkbTocVars?.target||"h3";const n=parseInt(window.arkbTocVars?.threshold)||2,c=window.arkbTocVars?.ignoreClasses||[];for(let t=0;t<r.length;t++){const e=r[t].getAttribute("data-target")||"";e&&o(l)<o(e)&&(l=e)}let a=[];if(null!==t&&("h2"===l?a=t.querySelectorAll("h2"):"h3"===l?a=t.querySelectorAll("h2, h3"):"h4"===l&&(a=t.querySelectorAll("h2, h3, h4"))),n>a.length)return void r.forEach((t=>{t.remove()}));let i=2,s="";console.log("hTags",a);for(let t=0;t<a.length;t++){const o=a[t];let r="";o.hasAttribute("id")?r=o.getAttribute("id"):(r="arkb-toc-"+t,o.setAttribute("id",r));let l=!1;for(let t=0;t<c.length;t++){const e=c[t];o.classList.contains(e)&&(l=!0)}if(l)continue;let n=o.innerHTML;n=e(n,["ruby","rp","rb","rt"]);let u=0;const h=o.tagName.toLowerCase();if("h2"===h?u=2:"h3"===h?u=3:"h4"===h?u=4:"h5"===h&&(u=5),0!==u&&!(""===s&&2!==u||1<u-i)){if(i<u)i++,s=s.slice(0,-5),s+=`<ol class="ark-block-toc__list" data-level="${i}">`;else if(i>u)for(;i>u;)s+="</ol></li>",i--;s+=`<li><a href="#${r}" class="ark-block-toc__link">${n}</a></li>`}}for(;i>1;)s+="</ol></li>",i--;if(!s)return;const u=document.createElement("ol");u.classList.add("ark-block-toc__list"),u.setAttribute("data-level","2"),u.innerHTML=s;for(let t=0;t<r.length;t++)r[t].appendChild(u.cloneNode(!0))}()}))})();
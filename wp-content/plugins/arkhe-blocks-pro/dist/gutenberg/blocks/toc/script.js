(()=>{"use strict";var t={};function e(t,e){const r=e.join("|")||"",o=new RegExp("(?!<\\/?("+r+")(>|\\s[^>]*>))<(\"[^\"]*\"|\\'[^\\']*\\'|[^\\'\">])*>","gim");return t.replace(o,"")}function r(t){return parseInt(t.replace(/[^0-9]/gi,""))}t.d=(e,r)=>{for(var o in r)t.o(r,o)&&!t.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:r[o]})},t.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),document.addEventListener("DOMContentLoaded",(function(){!function(){const t=document.querySelector("#main_content .c-postContent");if(null===t)return;const o=document.querySelectorAll(".ark-block-toc");if(1>o.length)return;let l=window.arkbTocVars?.target||"h3";const n=parseInt(window.arkbTocVars?.threshold)||2,c=window.arkbTocVars?.ignoreClasses||[];for(let t=0;t<o.length;t++){const e=o[t].getAttribute("data-target")||"";e&&r(l)<r(e)&&(l=e)}let i=[];if(null!==t&&("h2"===l?i=t.querySelectorAll("h2"):"h3"===l?i=t.querySelectorAll("h2, h3"):"h4"===l&&(i=t.querySelectorAll("h2, h3, h4"))),n>i.length)return void o.forEach((t=>{t.remove()}));let a=2,s="";for(let t=0;t<i.length;t++){const r=i[t];let o="";r.hasAttribute("id")?o=r.getAttribute("id"):(o="arkb-toc-"+t,r.setAttribute("id",o));let l=!1;for(let t=0;t<c.length;t++){const e=c[t];r.classList.contains(e)&&(l=!0)}if(l)continue;let n=r.innerHTML;n=e(n,["ruby","rp","rb","rt"]);let u=0;const h=r.tagName.toLowerCase();if("h2"===h?u=2:"h3"===h?u=3:"h4"===h?u=4:"h5"===h&&(u=5),0!==u&&!(""===s&&2!==u||1<u-a)){if(a<u)a++,s=s.slice(0,-5),s+=`<ol class="ark-block-toc__list" data-level="${a}">`;else if(a>u)for(;a>u;)s+="</ol></li>",a--;s+=`<li><a href="#${o}" class="ark-block-toc__link">${n}</a></li>`}}for(;a>1;)s+="</ol></li>",a--;if(!s)return;const u=document.createElement("ol");u.classList.add("ark-block-toc__list"),u.setAttribute("data-level","2"),u.innerHTML=s;for(let t=0;t<o.length;t++)o[t].appendChild(u.cloneNode(!0))}()}))})();
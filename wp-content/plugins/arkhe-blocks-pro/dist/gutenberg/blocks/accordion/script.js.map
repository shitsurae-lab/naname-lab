{"version":3,"file":"blocks/accordion/script.js","mappings":";;;;;AAAA,MAAMA,cAAc,GAAG,GAAG;AAC1B,MAAMC,WAAW,GAAG,CAAC;AAErBC,QAAQ,CAACC,gBAAgB,CAAC,kBAAkB,EAAE,YAAY;EACzD,MAAMC,UAAU,GAAGF,QAAQ,CAACG,gBAAgB,CAAC,0BAA0B,CAAC;EACxED,UAAU,CAACE,OAAO,CAAEC,SAAS,IAAK;IACjC,MAAMC,MAAM,GAAGD,SAAS,CAACE,aAAa,CAAC,yBAAyB,CAAC;;IAEjE;IACAD,MAAM,CAACL,gBAAgB,CAAC,OAAO,EAAGO,CAAC,IAAK;MACvC;MACAA,CAAC,CAACC,cAAc,CAAC,CAAC;;MAElB;MACA,IAAI,CAACJ,SAAS,CAACK,IAAI,EAAE;QACpB;QACAL,SAAS,CAACK,IAAI,GAAG,IAAI;;QAErB;QACAC,UAAU,CAAC,MAAM;UAChBN,SAAS,CAACO,SAAS,CAACC,GAAG,CAAC,WAAW,CAAC,CAAC,CAAC;QACvC,CAAC,EAAEd,WAAW,CAAC;QACf;MACD,CAAC,MAAM,IAAIM,SAAS,CAACK,IAAI,EAAE;QAC1BL,SAAS,CAACO,SAAS,CAACE,MAAM,CAAC,WAAW,CAAC,CAAC,CAAC;;QAEzC;QACAH,UAAU,CAAC,MAAM;UAChBN,SAAS,CAACK,IAAI,GAAG,KAAK;QACvB,CAAC,EAAEZ,cAAc,GAAGC,WAAW,CAAC;MACjC;IACD,CAAC,CAAC;;IAEF;IACAM,SAAS,CAACJ,gBAAgB,CAAC,QAAQ,EAAE,MAAM;MAC1C;MACA,MAAMc,cAAc,GAAGV,SAAS,CAACO,SAAS,CAACI,QAAQ,CAAC,WAAW,CAAC;MAEhE,IAAIX,SAAS,CAACK,IAAI,IAAI,CAACK,cAAc,EAAE;QACtC;QACAV,SAAS,CAACO,SAAS,CAACC,GAAG,CAAC,WAAW,CAAC;MACrC,CAAC,MAAM,IAAI,CAACR,SAAS,CAACK,IAAI,IAAIK,cAAc,EAAE;QAC7C;QACAV,SAAS,CAACO,SAAS,CAACE,MAAM,CAAC,WAAW,CAAC;MACxC;IACD,CAAC,CAAC;EACH,CAAC,CAAC;AACH,CAAC,CAAC,C","sources":["webpack://arkhe-blocks/./src/gutenberg/blocks/accordion/script.js"],"sourcesContent":["const ANIMATION_TIME = 250;\nconst OFFSET_TIME = 5;\n\ndocument.addEventListener('DOMContentLoaded', function () {\n\tconst accordions = document.querySelectorAll('[data-ark-acc=\"wrapper\"]');\n\taccordions.forEach((accordion) => {\n\t\tconst header = accordion.querySelector('[data-ark-acc=\"header\"]');\n\n\t\t// <summary> 'click' イベント\n\t\theader.addEventListener('click', (e) => {\n\t\t\t// すぐに open 属性が切り替わらないようにする\n\t\t\te.preventDefault();\n\n\t\t\t// オープン / クローズ 処理\n\t\t\tif (!accordion.open) {\n\t\t\t\t// open属性を最初にセット\n\t\t\t\taccordion.open = true;\n\n\t\t\t\t// open付与から少しだけ遅らせた方が動作が安定する\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\taccordion.classList.add('is-opened'); // クラスの追加\n\t\t\t\t}, OFFSET_TIME);\n\t\t\t\t//\n\t\t\t} else if (accordion.open) {\n\t\t\t\taccordion.classList.remove('is-opened'); // クラスを削除\n\n\t\t\t\t// アニメーション完了後にopen属性を削除。（CSS側のアニメーション時間+少しだけ余裕をもたせている）\n\t\t\t\tsetTimeout(() => {\n\t\t\t\t\taccordion.open = false;\n\t\t\t\t}, ANIMATION_TIME + OFFSET_TIME);\n\t\t\t}\n\t\t});\n\n\t\t// <details> 'toggle' イベント\n\t\taccordion.addEventListener('toggle', () => {\n\t\t\t// e.preventDefault();\n\t\t\tconst hasOpenedClass = accordion.classList.contains('is-opened');\n\n\t\t\tif (accordion.open && !hasOpenedClass) {\n\t\t\t\t// open はセットされたのに is-opened クラスがついてない時\n\t\t\t\taccordion.classList.add('is-opened');\n\t\t\t} else if (!accordion.open && hasOpenedClass) {\n\t\t\t\t// open は削除されたのに is-opened クラスがまだついている時\n\t\t\t\taccordion.classList.remove('is-opened');\n\t\t\t}\n\t\t});\n\t});\n});\n"],"names":["ANIMATION_TIME","OFFSET_TIME","document","addEventListener","accordions","querySelectorAll","forEach","accordion","header","querySelector","e","preventDefault","open","setTimeout","classList","add","remove","hasOpenedClass","contains"],"sourceRoot":""}
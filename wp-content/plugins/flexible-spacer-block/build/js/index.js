(()=>{"use strict";const e=window.wp.blocks,i=JSON.parse('{"UU":"fsb/flexible-spacer"}');function s(e){var i,t,l="";if("string"==typeof e||"number"==typeof e)l+=e;else if("object"==typeof e)if(Array.isArray(e)){var a=e.length;for(i=0;i<a;i++)e[i]&&(t=s(e[i]))&&(l&&(l+=" "),l+=t)}else for(t in e)e[t]&&(l&&(l+=" "),l+=t);return l}const t=function(){for(var e,i,t=0,l="",a=arguments.length;t<a;t++)(e=arguments[t])&&(i=s(e))&&(l&&(l+=" "),l+=i);return l},l=window.wp.i18n,a=window.wp.data,n=window.wp.blockEditor,o=window.wp.components,r=window.wp.element,c=window.wp.primitives,h=window.ReactJSXRuntime,g=(0,h.jsxs)(c.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:[(0,h.jsx)(c.Path,{d:"m19 7.5h-7.628c-.3089-.87389-1.1423-1.5-2.122-1.5-.97966 0-1.81309.62611-2.12197 1.5h-2.12803v1.5h2.12803c.30888.87389 1.14231 1.5 2.12197 1.5.9797 0 1.8131-.62611 2.122-1.5h7.628z"}),(0,h.jsx)(c.Path,{d:"m19 15h-2.128c-.3089-.8739-1.1423-1.5-2.122-1.5s-1.8131.6261-2.122 1.5h-7.628v1.5h7.628c.3089.8739 1.1423 1.5 2.122 1.5s1.8131-.6261 2.122-1.5h2.128z"})]}),b=(0,h.jsx)(c.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,h.jsx)(c.Path,{d:"M20.5 16h-.7V8c0-1.1-.9-2-2-2H6.2c-1.1 0-2 .9-2 2v8h-.7c-.8 0-1.5.7-1.5 1.5h20c0-.8-.7-1.5-1.5-1.5zM5.7 8c0-.3.2-.5.5-.5h11.6c.3 0 .5.2.5.5v7.6H5.7V8z"})}),d=(0,h.jsx)(c.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,h.jsx)(c.Path,{d:"M17 4H7c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h10c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm.5 14c0 .3-.2.5-.5.5H7c-.3 0-.5-.2-.5-.5V6c0-.3.2-.5.5-.5h10c.3 0 .5.2.5.5v12zm-7.5-.5h4V16h-4v1.5z"})}),p=(0,h.jsx)(c.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,h.jsx)(c.Path,{d:"M15 4H9c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h6c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm.5 14c0 .3-.2.5-.5.5H9c-.3 0-.5-.2-.5-.5V6c0-.3.2-.5.5-.5h6c.3 0 .5.2.5.5v12zm-4.5-.5h2V16h-2v1.5z"})}),v=(0,r.forwardRef)((function({icon:e,size:i=24,...s},t){return(0,r.cloneElement)(e,{width:i,height:i,...s,ref:t})})),x=window.wp.url,f=(0,h.jsxs)(o.SVG,{viewBox:"0 0 24 24",children:[(0,h.jsx)(o.Polygon,{points:"17.5,1.5 7.8,6.1 10.8,6.5 6.5,10.5 16.5,6 13.4,5.5 "}),(0,h.jsx)(o.Path,{d:"M13.5,10.2v1.6h3.7L5.8,19.2V15H4.2v6.8H11v-1.6H6.8l11.4-7.4v3.7h1.6v-6.3H13.5z"})]}),m=(0,h.jsxs)(o.SVG,{viewBox:"0 0 24 24",children:[(0,h.jsx)(o.Path,{d:"M18.1,11.5H5.9l2.7-3.2L7.8,7.5L4,12l3.8,4.1l0.7-0.8L6,12.5h12.3L18.1,11.5z M18.1,12.5l-2.7,3.2l0.7,0.8L20,12l-3.8-4.1 l-0.7,0.8l2.6,2.9"}),(0,h.jsx)(o.Path,{d:"M4.5,4.3v3H3V2.8h18v4.5h-1.5v-3C19.5,4.3,4.5,4.3,4.5,4.3z"}),(0,h.jsx)(o.Path,{d:"M19.5,19.7v-3H21v4.5H3v-4.5h1.5v3H19.5z"})]}),u=100,_="px",w=fsbConf.defaultValue,N={from:[{type:"block",blocks:["core/spacer"],transform:({anchor:s,height:t})=>{const[l=u,a=_]=(0,o.__experimentalParseQuantityAndUnitFromRawValue)(t),n=`${l}${a}`;return(0,e.createBlock)(i.UU,{anchor:s,heightLg:n,heightMd:n,heightSm:n})}}],to:[{type:"block",blocks:["core/spacer"],transform:({anchor:i,heightLg:s})=>{const[t=u,l=_]=(0,o.__experimentalParseQuantityAndUnitFromRawValue)(s),a=`${t}${l}`;return(0,e.createBlock)("core/spacer",{anchor:i,height:a})}}]},S=[{attributes:{heightLg:{type:"number",default:100},heightMd:{type:"number",default:100},heightSm:{type:"number",default:100},isNegativeLg:{type:"boolean",default:!1},isNegativeMd:{type:"boolean",default:!1},isNegativeSm:{type:"boolean",default:!1}},migrate(e){const{heightLg:i,heightMd:s,heightSm:t}=e;return{...e,heightLg:void 0!==i?`${i}px`:void 0,heightMd:void 0!==s?`${s}px`:void 0,heightSm:void 0!==t?`${t}px`:void 0}},save({attributes:e,className:i}){const{heightLg:s,heightMd:l,heightSm:a,isNegativeLg:o,isNegativeMd:r,isNegativeSm:c}=e,g=o?{marginBottom:-s}:{height:s},b=r?{marginBottom:-l}:{height:l},d=c?{marginBottom:-a}:{height:a},p=n.useBlockProps.save({"aria-hidden":!0,className:t("fsb-flexible-spacer",i)});return(0,h.jsxs)("div",{...p,children:[(0,h.jsx)("div",{className:"fsb-flexible-spacer__device fsb-flexible-spacer__device--lg",style:g}),(0,h.jsx)("div",{className:"fsb-flexible-spacer__device fsb-flexible-spacer__device--md",style:b}),(0,h.jsx)("div",{className:"fsb-flexible-spacer__device fsb-flexible-spacer__device--sm",style:d})]})}}],R={isResponsive:!1},j=(0,a.createReduxStore)("flexible-spacer-block",{reducer:(e=R,i)=>"UPDATE_IS_RESPONSIVE"===i.type?{...e,isResponsive:!e.isResponsive}:e,selectors:{getIsResponsive:e=>e.isResponsive},actions:{setIsResponsive:e=>({type:"UPDATE_IS_RESPONSIVE",value:e})}});(0,a.register)(j);const k={icon:f,edit:function({attributes:e,isSelected:i,setAttributes:s,toggleSelection:f}){const[w,N]=(0,r.useState)(u.DEFAULT_SPACER_HEIGHT_UNIT),[S,R]=(0,r.useState)(!1),[j,k]=(0,r.useState)(!1),[y,z]=(0,r.useState)(!1),[P,V]=(0,r.useState)(null),[M,C]=(0,r.useState)(null),[H,L]=(0,r.useState)(null),B=(0,a.useSelect)((e=>e("flexible-spacer-block").getIsResponsive())),{setIsResponsive:$}=(0,a.useDispatch)("flexible-spacer-block"),U=parseInt(fsbConf.breakpoint.md)!==parseInt(fsbConf.breakpoint.sm),A=fsbConf.showBlock,E=fsbConf.defaultValue,{heightLg:I,heightMd:T,heightSm:F,isNegativeLg:Q,isNegativeMd:D,isNegativeSm:G}=e;(0,r.useEffect)((()=>{I===`${u}${_}`&&T===`${u}${_}`&&F===`${u}${_}`&&s({heightLg:E.lg+E.lg_unit,heightMd:E.md+E.md_unit,heightSm:E.sm+E.sm_unit})}),[]),(0,r.useEffect)((()=>{I===T&&T===F&&N(I)}),[I,T,F]);const q=(0,x.addQueryArgs)("options-general.php",{page:"flexible-spacer-block-option"}),O=(0,n.useBlockProps)({className:t("fsb-flexible-spacer",{"fsb-flexible-spacer--is-show-block":!!A,"fsb-flexible-spacer--is-responsive":!!B})});function J(e,i){if(!i)return;const[s,t]=(0,o.__experimentalParseQuantityAndUnitFromRawValue)(i),[,l]=(0,o.__experimentalParseQuantityAndUnitFromRawValue)(e);return s+(t||l||"px")}const X=(e,i)=>{s({heightLg:J(e,i)}),U||s({heightMd:J(e,i)}),V(null)},K=(e,i)=>{s({heightMd:J(e,i)}),C(null)},W=(e,i)=>{s({heightSm:J(e,i)}),L(null)},Y=[{label:(0,l.__)("Height (All)","flexible-spacer-block"),icon:g,slug:"all",value:w,quantity:(0,o.__experimentalParseQuantityAndUnitFromRawValue)(w)[0],onChange:e=>((e,i)=>{const t=J(e,i);s({heightLg:t,heightMd:t,heightSm:t}),N(t)})(w,e)},{label:(0,l.__)("Height (Desktop)","flexible-spacer-block"),icon:b,slug:"lg",value:I,quantity:(0,o.__experimentalParseQuantityAndUnitFromRawValue)(P||I)[0],onChange:e=>X(I,e),isNegative:Q,onNegativeChange:e=>{s({isNegativeLg:e}),U||s({isNegativeMd:e})}},{label:(0,l.__)("Height (Tablet)","flexible-spacer-block"),icon:d,slug:"md",value:T,quantity:(0,o.__experimentalParseQuantityAndUnitFromRawValue)(M||T)[0],onChange:e=>K(T,e),isNegative:D,onNegativeChange:e=>s({isNegativeMd:e})},{label:(0,l.__)("Height (Mobile)","flexible-spacer-block"),icon:p,slug:"sm",value:F,quantity:(0,o.__experimentalParseQuantityAndUnitFromRawValue)(F)[0],onChange:e=>W(H||F,e),isNegative:G,onNegativeChange:e=>s({isNegativeSm:e})}],Z=[{label:(0,l.__)("Mobile","flexible-spacer-block"),slug:"sm",icon:p,isNegative:G,height:F||E.sm,onResizeStart:()=>f(!1),onResize:()=>z(!0),onResizeStop:(e,i,s)=>{W(void 0,`${s.clientHeight}px`),z(!1)},isResizing:y},U&&{label:(0,l.__)("Tablet","flexible-spacer-block"),slug:"md",icon:d,isNegative:D,height:T||E.md,onResizeStart:()=>f(!1),onResize:()=>k(!0),onResizeStop:(e,i,s)=>{K(void 0,`${s.clientHeight}px`),k(!1)},isResizing:j},{label:(0,l.__)("Desktop","flexible-spacer-block"),slug:"lg",icon:b,isNegative:Q,height:I||E.lg,onResizeStart:()=>f(!1),onResize:()=>R(!0),onResizeStop:(e,i,s)=>{X(void 0,`${s.clientHeight}px`),R(!1)},isResizing:S}].filter(Boolean);return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(n.BlockControls,{children:(0,h.jsx)(o.ToolbarGroup,{children:(0,h.jsx)(o.ToolbarButton,{icon:m,isPressed:B,label:B?(0,l.__)("Disable responsive view","flexible-spacer-block"):(0,l.__)("Enable responsive view","flexible-spacer-block"),onClick:()=>$(!B)})})}),(0,h.jsx)(n.InspectorControls,{children:(0,h.jsxs)(o.PanelBody,{title:(0,l.__)("Spacer settings","flexible-spacer-block"),className:"fsb-flexible-spacer__sidebar",children:[Y.map(((e,i)=>(0,h.jsxs)("div",{className:`fsb-flexible-spacer__sidebar-${e.slug}`,children:[(0,h.jsx)(o.RangeControl,{label:e.label,beforeIcon:(0,h.jsx)(v,{icon:e.icon}),min:0,max:500,value:e.quantity,withInputField:!1,onChange:e.onChange,__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0}),(0,h.jsx)(o.__experimentalUnitControl,{value:e.value,min:0,onChange:e.onChange,size:"__unstable-large"}),e.onNegativeChange&&(0,h.jsx)(o.ToggleControl,{label:(0,l.__)("Negative space","flexible-spacer-block"),checked:e.isNegative,onChange:e.onNegativeChange,__nextHasNoMarginBottom:!0}),(0,h.jsx)(o.HorizontalRule,{})]},i))),(0,h.jsx)(o.ExternalLink,{href:q,children:(0,l.__)("Plugin Setting","flexible-spacer-block")})]})}),(0,h.jsx)(c.View,{...O,children:(0,h.jsxs)("div",{className:"fsb-flexible-spacer__inner",children:[(0,h.jsxs)("div",{className:"fsb-flexible-spacer__breakpoint",children:[(0,h.jsxs)("div",{className:"fsb-flexible-spacer__breakpoint-item",children:["≤ ",fsbConf.breakpoint.sm,"px <"]}),U&&(0,h.jsxs)("div",{className:"fsb-flexible-spacer__breakpoint-item",children:["≤ ",fsbConf.breakpoint.md,"px <"]})]}),Z.map(((e,s)=>(0,h.jsxs)("div",{className:`fsb-flexible-spacer__device fsb-flexible-spacer__device--${e.slug}`,children:[(0,h.jsxs)("div",{className:"fsb-flexible-spacer__device-ttl",children:[(0,h.jsx)(v,{icon:e.icon}),e.label]}),(0,h.jsx)("div",{style:{height:e.height},children:(0,h.jsx)(o.ResizableBox,{className:t({"is-selected":i,"is-resizing":e.isResizing,"is-negative":!!e.isNegative}),minHeight:0,enable:{top:!1,right:!1,bottom:!0,left:!1,topRight:!1,bottomRight:!1,bottomLeft:!1,topLeft:!1},onResizeStart:e.onResizeStart,onResize:e.onResize,onResizeStop:e.onResizeStop,showHandle:i,__experimentalShowTooltip:!0,__experimentalTooltipProps:{axis:"y",position:"bottom",isVisible:e.isResizing}})})]},s)))]})})]})},save:function({attributes:e,className:i}){const{heightLg:s,heightMd:l,heightSm:a,isNegativeLg:r,isNegativeMd:c,isNegativeSm:g}=e;function b(e,i,s,t){if(void 0===e)return i?{marginBottom:`-${s}${t}`}:{height:`${s}${t}`};const[l,a]=(0,o.__experimentalParseQuantityAndUnitFromRawValue)(e);return 0===l?{height:`${l}${a}`}:i?{marginBottom:`-${e}`}:{height:e}}const d=b(s,r,w.lg,w.lg_unit),p=b(l,c,w.md,w.md_unit),v=b(a,g,w.sm,w.sm_unit),x=n.useBlockProps.save({"aria-hidden":!0,className:t("fsb-flexible-spacer",i)});return(0,h.jsxs)("div",{...x,children:[(0,h.jsx)("div",{className:"fsb-flexible-spacer__device fsb-flexible-spacer__device--lg",style:d}),(0,h.jsx)("div",{className:"fsb-flexible-spacer__device fsb-flexible-spacer__device--md",style:p}),(0,h.jsx)("div",{className:"fsb-flexible-spacer__device fsb-flexible-spacer__device--sm",style:v})]})},transforms:N,deprecated:S};(0,e.registerBlockType)(i.UU,k)})();
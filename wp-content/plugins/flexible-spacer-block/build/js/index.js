(()=>{"use strict";const e=window.wp.blocks,i=JSON.parse('{"UU":"fsb/flexible-spacer"}');function s(e){var i,t,a="";if("string"==typeof e||"number"==typeof e)a+=e;else if("object"==typeof e)if(Array.isArray(e)){var l=e.length;for(i=0;i<l;i++)e[i]&&(t=s(e[i]))&&(a&&(a+=" "),a+=t)}else for(t in e)e[t]&&(a&&(a+=" "),a+=t);return a}const t=function(){for(var e,i,t=0,a="",l=arguments.length;t<l;t++)(e=arguments[t])&&(i=s(e))&&(a&&(a+=" "),a+=i);return a},a=window.wp.i18n,l=window.wp.data,n=window.wp.blockEditor,o=window.wp.components,r=window.wp.element,c=window.wp.primitives,h=window.ReactJSXRuntime;var g=(0,h.jsxs)(c.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:[(0,h.jsx)(c.Path,{d:"m19 7.5h-7.628c-.3089-.87389-1.1423-1.5-2.122-1.5-.97966 0-1.81309.62611-2.12197 1.5h-2.12803v1.5h2.12803c.30888.87389 1.14231 1.5 2.12197 1.5.9797 0 1.8131-.62611 2.122-1.5h7.628z"}),(0,h.jsx)(c.Path,{d:"m19 15h-2.128c-.3089-.8739-1.1423-1.5-2.122-1.5s-1.8131.6261-2.122 1.5h-7.628v1.5h7.628c.3089.8739 1.1423 1.5 2.122 1.5s1.8131-.6261 2.122-1.5h2.128z"})]}),d=(0,h.jsx)(c.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,h.jsx)(c.Path,{d:"M20.5 16h-.7V8c0-1.1-.9-2-2-2H6.2c-1.1 0-2 .9-2 2v8h-.7c-.8 0-1.5.7-1.5 1.5h20c0-.8-.7-1.5-1.5-1.5zM5.7 8c0-.3.2-.5.5-.5h11.6c.3 0 .5.2.5.5v7.6H5.7V8z"})}),p=(0,h.jsx)(c.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,h.jsx)(c.Path,{d:"M17 4H7c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h10c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm.5 14c0 .3-.2.5-.5.5H7c-.3 0-.5-.2-.5-.5V6c0-.3.2-.5.5-.5h10c.3 0 .5.2.5.5v12zm-7.5-.5h4V16h-4v1.5z"})}),b=(0,h.jsx)(c.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,h.jsx)(c.Path,{d:"M15 4H9c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h6c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm.5 14c0 .3-.2.5-.5.5H9c-.3 0-.5-.2-.5-.5V6c0-.3.2-.5.5-.5h6c.3 0 .5.2.5.5v12zm-4.5-.5h2V16h-2v1.5z"})}),m=(0,r.forwardRef)((({icon:e,size:i=24,...s},t)=>(0,r.cloneElement)(e,{width:i,height:i,...s,ref:t})));const x=window.wp.url,u=window.wp.compose,f=(0,h.jsxs)(o.SVG,{viewBox:"0 0 24 24",children:[(0,h.jsx)(o.Path,{d:"M4.5 15.5H8.5V17H2V10.5H3.5V14.5L14.5 3.5H10.5V2H17V8.5H15.5V4.5L4.5 15.5Z"}),(0,h.jsx)(o.Path,{d:"M20 10L15 10C13.9 10 13 10.9 13 12V20C13 21.1 13.9 22 15 22H20C21.1 22 22 21.1 22 20V12C22 10.9 21.1 10 20 10ZM20.5 20C20.5 20.3 20.3 20.5 20 20.5H15C14.7 20.5 14.5 20.3 14.5 20V12C14.5 11.7 14.7 11.5 15 11.5H20C20.3 11.5 20.5 11.7 20.5 12V20ZM16.5 19.5H18.5V18.5H16.5V19.5Z"})]}),v=(0,h.jsxs)(o.SVG,{viewBox:"0 0 24 24",children:[(0,h.jsx)(o.Path,{d:"M17.3 12.75H6.75L8.5 14.5L7.5 15.5L4 12L7.5 8.5L8.5 9.5L6.75 11.25H17.3L15.5 9.5L16.5 8.5L20 12L16.5 15.5L15.5 14.5L17.3 12.75Z"}),(0,h.jsx)(o.Path,{d:"M19.5 2.5C20.5 2.5 21.5 3.5 21.5 4.5V8.5H20V4.5C20 4.2 19.8 4 19.5 4H4.50004C4.20004 4 4.00004 4.2 4.00004 4.5V8.5H2.50004V4.5C2.49294 3.51901 3.48624 2.5 4.50004 2.5H19.5Z"}),(0,h.jsx)(o.Path,{d:"M20 15.5L21.5 15.5V19.5C21.5 20.5 20.5 21.5 19.5 21.5H4.50124C3.48744 21.5 2.49294 20.481 2.50004 19.5V15.5H4.00004L4.00003 19.5C4.00003 19.8 4.20003 20 4.50003 20H19.5C19.8 20 20 19.8 20 19.5L20 15.5Z"})]}),_=100,w="px",S=fsbConf.defaultValue,N={from:[{type:"block",blocks:["core/spacer"],transform:({anchor:s,height:t})=>{const[a=_,l=w]=(0,o.__experimentalParseQuantityAndUnitFromRawValue)(t),n=`${a}${l}`;return(0,e.createBlock)(i.UU,{anchor:s,heightLg:n,heightMd:n,heightSm:n})}}],to:[{type:"block",blocks:["core/spacer"],transform:({anchor:i,heightLg:s})=>{const[t=_,a=w]=(0,o.__experimentalParseQuantityAndUnitFromRawValue)(s),l=`${t}${a}`;return(0,e.createBlock)("core/spacer",{anchor:i,height:l})}}]},V=[{attributes:{heightLg:{type:"number",default:100},heightMd:{type:"number",default:100},heightSm:{type:"number",default:100},isNegativeLg:{type:"boolean",default:!1},isNegativeMd:{type:"boolean",default:!1},isNegativeSm:{type:"boolean",default:!1}},migrate(e){const{heightLg:i,heightMd:s,heightSm:t}=e;return{...e,heightLg:void 0!==i?`${i}px`:void 0,heightMd:void 0!==s?`${s}px`:void 0,heightSm:void 0!==t?`${t}px`:void 0}},save({attributes:e,className:i}){const{heightLg:s,heightMd:a,heightSm:l,isNegativeLg:o,isNegativeMd:r,isNegativeSm:c}=e,g=o?{marginBottom:-s}:{height:s},d=r?{marginBottom:-a}:{height:a},p=c?{marginBottom:-l}:{height:l},b=n.useBlockProps.save({"aria-hidden":!0,className:t("fsb-flexible-spacer",i)});return(0,h.jsxs)("div",{...b,children:[(0,h.jsx)("div",{className:"fsb-flexible-spacer__device fsb-flexible-spacer__device--lg",style:g}),(0,h.jsx)("div",{className:"fsb-flexible-spacer__device fsb-flexible-spacer__device--md",style:d}),(0,h.jsx)("div",{className:"fsb-flexible-spacer__device fsb-flexible-spacer__device--sm",style:p})]})}}],j={isResponsive:!1},R=(0,l.createReduxStore)("flexible-spacer-block",{reducer:(e=j,i)=>"UPDATE_IS_RESPONSIVE"===i.type?{...e,isResponsive:!e.isResponsive}:e,selectors:{getIsResponsive:e=>e.isResponsive},actions:{setIsResponsive:e=>({type:"UPDATE_IS_RESPONSIVE",value:e})}});(0,l.register)(R);const k={icon:f,edit:function({attributes:e,isSelected:i,setAttributes:s,toggleSelection:f}){const[S,N]=(0,r.useState)(_.DEFAULT_SPACER_HEIGHT_UNIT),[V,j]=(0,r.useState)(void 0),[R,k]=(0,r.useState)(!1),[C,L]=(0,r.useState)(!1),[M,y]=(0,r.useState)(!1),[z,H]=(0,r.useState)(null),[P,B]=(0,r.useState)(null),[$,U]=(0,r.useState)(null),A=(0,l.useSelect)((e=>e("flexible-spacer-block").getIsResponsive())),{setIsResponsive:E}=(0,l.useDispatch)("flexible-spacer-block"),I=(0,u.useViewportMatch)("medium","<"),D=parseInt(fsbConf.breakpoint.md)!==parseInt(fsbConf.breakpoint.sm),T=fsbConf.showBlock,F=fsbConf.defaultValue,{heightLg:Q,heightMd:G,heightSm:Z,isNegativeLg:q,isNegativeMd:O,isNegativeSm:J}=e;(0,r.useEffect)((()=>{Q===`${_}${w}`&&G===`${_}${w}`&&Z===`${_}${w}`&&s({heightLg:F.lg+F.lg_unit,heightMd:F.md+F.md_unit,heightSm:F.sm+F.sm_unit})}),[]),(0,r.useEffect)((()=>{Q===G&&G===Z&&N(Q)}),[Q,G,Z]);const X=F.lg+F.lg_unit,K=F.md+F.md_unit,W=F.sm+F.sm_unit,Y=(0,x.addQueryArgs)("options-general.php",{page:"flexible-spacer-block-option"}),ee=(0,n.useBlockProps)({className:t("fsb-flexible-spacer",{"fsb-flexible-spacer--is-show-block":!!T,"fsb-flexible-spacer--is-responsive":!!A})});function ie(e,i){if(!i)return;const[s,t]=(0,o.__experimentalParseQuantityAndUnitFromRawValue)(i),[,a]=(0,o.__experimentalParseQuantityAndUnitFromRawValue)(e);return s+(t||a||"px")}const se=(e,i)=>{s({heightLg:ie(e,i)}),D||s({heightMd:ie(e,i)}),H(null)},te=(e,i)=>{s({heightMd:ie(e,i)}),B(null)},ae=(e,i)=>{s({heightSm:ie(e,i)}),U(null)},le=[{label:(0,a.__)("All heights","flexible-spacer-block"),icon:g,slug:"all",value:S,quantity:(0,o.__experimentalParseQuantityAndUnitFromRawValue)(S)[0],onChange:e=>((e,i)=>{const t=ie(e,i);s({heightLg:t,heightMd:t,heightSm:t}),N(t)})(S,e),hasValue:()=>Q!==X||G!==K||Z!==W||q||O||J,onDeselect:()=>{s({heightLg:X,heightMd:D?K:X,heightSm:W,isNegativeLg:!1,isNegativeMd:!1,isNegativeSm:!1}),N(X)}},{label:(0,a.__)("Desktop height","flexible-spacer-block"),icon:d,slug:"lg",value:Q,quantity:(0,o.__experimentalParseQuantityAndUnitFromRawValue)(z||Q)[0],onChange:e=>se(Q,e),isNegative:q,onNegativeChange:e=>{s({isNegativeLg:e}),D||s({isNegativeMd:e})},hasValue:()=>Q!==X||q,onDeselect:()=>s({heightLg:X,isNegativeLg:!1})},{label:(0,a.__)("Tablet height","flexible-spacer-block"),icon:p,slug:"md",value:G,quantity:(0,o.__experimentalParseQuantityAndUnitFromRawValue)(P||G)[0],onChange:e=>te(G,e),isNegative:O,onNegativeChange:e=>s({isNegativeMd:e}),hasValue:()=>G!==K||O,onDeselect:()=>s({heightMd:K,isNegativeMd:!1})},{label:(0,a.__)("Mobile height","flexible-spacer-block"),icon:b,slug:"sm",value:Z,quantity:(0,o.__experimentalParseQuantityAndUnitFromRawValue)(Z)[0],onChange:e=>ae($||Z,e),isNegative:J,onNegativeChange:e=>s({isNegativeSm:e}),hasValue:()=>Z!==W||J,onDeselect:()=>s({heightSm:W,isNegativeSm:!1})}],ne=[{label:(0,a.__)("Mobile","flexible-spacer-block"),slug:"sm",icon:b,isNegative:J,height:Z||F.sm,onResizeStart:()=>f(!1),onResize:()=>y(!0),onResizeStop:(e,i,s)=>{ae(void 0,`${s.clientHeight}px`),y(!1)},isResizing:M},D&&{label:(0,a.__)("Tablet","flexible-spacer-block"),slug:"md",icon:p,isNegative:O,height:G||F.md,onResizeStart:()=>f(!1),onResize:()=>L(!0),onResizeStop:(e,i,s)=>{te(void 0,`${s.clientHeight}px`),L(!1)},isResizing:C},{label:(0,a.__)("Desktop","flexible-spacer-block"),slug:"lg",icon:d,isNegative:q,height:Q||F.lg,onResizeStart:()=>f(!1),onResize:()=>k(!0),onResizeStop:(e,i,s)=>{se(void 0,`${s.clientHeight}px`),k(!1)},isResizing:R}].filter(Boolean),oe=I?{}:{popoverProps:{placement:"left-start",offset:259}};return(0,h.jsxs)(h.Fragment,{children:[(0,h.jsx)(n.BlockControls,{children:(0,h.jsx)(o.ToolbarGroup,{children:(0,h.jsx)(o.ToolbarButton,{icon:v,isPressed:A,label:A?(0,a.__)("Disable responsive view","flexible-spacer-block"):(0,a.__)("Enable responsive view","flexible-spacer-block"),onClick:()=>E(!A)})})}),(0,h.jsx)(n.InspectorControls,{children:(0,h.jsxs)(o.__experimentalToolsPanel,{label:(0,a.__)("Settings","flexible-spacer-block"),dropdownMenuProps:oe,className:"fsb-flexible-spacer__sidebar",children:[le.map((e=>(0,h.jsx)(o.__experimentalToolsPanelItem,{label:e.label,isShownByDefault:!0,hasValue:e.hasValue,onDeselect:e.onDeselect,__nextHasNoMarginBottom:!0,children:(0,h.jsxs)(o.__experimentalVStack,{spacing:4,children:[(0,h.jsxs)(o.__experimentalVStack,{spacing:2,onMouseEnter:()=>j(e.slug),onMouseLeave:()=>j(void 0),children:[(0,h.jsxs)(o.__experimentalGrid,{align:"end",templateColumns:"1fr 0.7fr",children:[(0,h.jsx)(o.RangeControl,{label:e.label,beforeIcon:(0,h.jsx)(m,{icon:e.icon}),min:0,max:500,value:e.quantity,withInputField:!1,onChange:e.onChange,__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0}),(0,h.jsx)(o.__experimentalUnitControl,{hideLabelFromVision:!0,label:e.label,value:e.value,min:0,onChange:e.onChange,size:"__unstable-large"})]}),e.onNegativeChange&&(0,h.jsx)(o.ToggleControl,{label:(0,a.__)("Negative space","flexible-spacer-block"),checked:e.isNegative,onChange:e.onNegativeChange,__nextHasNoMarginBottom:!0})]}),(0,h.jsx)(o.HorizontalRule,{})]})},e.slug))),(0,h.jsx)(o.ExternalLink,{href:Y,children:(0,a.__)("Plugin Setting","flexible-spacer-block")})]})}),(0,h.jsx)(c.View,{...ee,children:(0,h.jsxs)("div",{className:"fsb-flexible-spacer__inner",children:[(0,h.jsxs)("div",{className:"fsb-flexible-spacer__breakpoint",children:[(0,h.jsxs)("div",{className:"fsb-flexible-spacer__breakpoint-item",children:["≤ ",fsbConf.breakpoint.sm,"px <"]}),D&&(0,h.jsxs)("div",{className:"fsb-flexible-spacer__breakpoint-item",children:["≤ ",fsbConf.breakpoint.md,"px <"]})]}),ne.map(((e,s)=>(0,h.jsxs)("div",{className:`fsb-flexible-spacer__device fsb-flexible-spacer__device--${e.slug}`,children:[(0,h.jsxs)("div",{className:"fsb-flexible-spacer__device-ttl",children:[(0,h.jsx)(m,{icon:e.icon}),e.label]}),(0,h.jsx)("div",{style:{height:e.height},children:(0,h.jsx)(o.ResizableBox,{className:t("fsb-flexible-spacer__device-resizer",{"is-resizing":e.isResizing,"is-negative":!!e.isNegative,"is-active":V===e.slug}),minHeight:0,enable:{top:!1,right:!1,bottom:!0,left:!1,topRight:!1,bottomRight:!1,bottomLeft:!1,topLeft:!1},onResizeStart:e.onResizeStart,onResize:e.onResize,onResizeStop:e.onResizeStop,showHandle:i,__experimentalShowTooltip:!0,__experimentalTooltipProps:{axis:"y",position:"bottom",isVisible:e.isResizing}})})]},s)))]})})]})},save:function({attributes:e,className:i}){const{heightLg:s,heightMd:a,heightSm:l,isNegativeLg:r,isNegativeMd:c,isNegativeSm:g}=e;function d(e,i,s,t){if(void 0===e)return i?{marginBottom:`-${s}${t}`}:{height:`${s}${t}`};const[a,l]=(0,o.__experimentalParseQuantityAndUnitFromRawValue)(e);return 0===a?{height:`${a}${l}`}:i?{marginBottom:`-${e}`}:{height:e}}const p=d(s,r,S.lg,S.lg_unit),b=d(a,c,S.md,S.md_unit),m=d(l,g,S.sm,S.sm_unit),x=n.useBlockProps.save({"aria-hidden":!0,className:t("fsb-flexible-spacer",i)});return(0,h.jsxs)("div",{...x,children:[(0,h.jsx)("div",{className:"fsb-flexible-spacer__device fsb-flexible-spacer__device--lg",style:p}),(0,h.jsx)("div",{className:"fsb-flexible-spacer__device fsb-flexible-spacer__device--md",style:b}),(0,h.jsx)("div",{className:"fsb-flexible-spacer__device fsb-flexible-spacer__device--sm",style:m})]})},transforms:N,deprecated:V};(0,e.registerBlockType)(i.UU,k)})();
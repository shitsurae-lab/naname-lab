(()=>{var e,t={63:e=>{function t(e,t){var o,n,a=e.type,i=e.value;return t&&void 0!==(n=t(e))?n:"word"===a||"space"===a?i:"string"===a?(o=e.quote||"")+i+(e.unclosed?"":o):"comment"===a?"/*"+i+(e.unclosed?"":"*/"):"div"===a?(e.before||"")+i+(e.after||""):Array.isArray(e.nodes)?(o=l(e.nodes,t),"function"!==a?o:i+"("+(e.before||"")+o+(e.after||"")+(e.unclosed?"":")")):i}function l(e,l){var o,n;if(Array.isArray(e)){for(o="",n=e.length-1;~n;n-=1)o=t(e[n],l)+o;return o}return t(e,l)}e.exports=l},377:(e,t,l)=>{"use strict";const o=window.wp.i18n,n=window.wp.blocks,a=window.wp.blockEditor,i=window.wp.hooks,s=window.wp.compose,r=window.wp.apiFetch;var c=l.n(r);const d=window.wp.data,b=window.ReactJSXRuntime,x=window.wp.primitives;var h=(0,b.jsx)(x.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,b.jsx)(x.Path,{d:"M9 9v6h11V9H9zM4 20h1.5V4H4v16z"})}),p=(0,b.jsx)(x.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,b.jsx)(x.Path,{d:"M12.5 15v5H11v-5H4V9h7V4h1.5v5h7v6h-7Z"})}),u=(0,b.jsx)(x.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,b.jsx)(x.Path,{d:"M4 15h11V9H4v6zM18.5 4v16H20V4h-1.5z"})}),_=(0,b.jsx)(x.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,b.jsx)(x.Path,{d:"M13 5.5H4V4h9v1.5Zm7 7H4V11h16v1.5Zm-7 7H4V18h9v1.5Z"})}),m=(0,b.jsx)(x.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,b.jsx)(x.Path,{d:"M7.5 5.5h9V4h-9v1.5Zm-3.5 7h16V11H4v1.5Zm3.5 7h9V18h-9v1.5Z"})}),g=(0,b.jsx)(x.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,b.jsx)(x.Path,{d:"M11.111 5.5H20V4h-8.889v1.5ZM4 12.5h16V11H4v1.5Zm7.111 7H20V18h-8.889v1.5Z"})}),f=(0,b.jsx)(x.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,b.jsx)(x.Path,{d:"M9 20h6V9H9v11zM4 4v1.5h16V4H4z"})}),v=(0,b.jsx)(x.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,b.jsx)(x.Path,{d:"M20 11h-5V4H9v7H4v1.5h5V20h6v-7.5h5z"})}),w=(0,b.jsx)(x.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,b.jsx)(x.Path,{d:"M15 4H9v11h6V4zM4 18.5V20h16v-1.5H4z"})});const C=window.wp.components,k=(0,b.jsxs)(C.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:[(0,b.jsx)(C.Polygon,{points:"17.5 1 7.8 5.6 10.8 6 6.5 10 16.5 5.5 13.4 5 17.5 1"}),(0,b.jsx)(C.Path,{d:"M19,11H5c-1.1,0-2,.9-2,2v8c0,1.1.9,2,2,2h14c1.1,0,2-.9,2-2v-8c0-1.1-.9-2-2-2ZM11.5,16.5h-7v-3.5c0-.3.2-.5.5-.5h6.5v4ZM13,12.5h6c.3,0,.5.2.5.5v3.5h-6.5v-4ZM4.5,21v-3h7v3.5h-6.5c-.3,0-.5-.2-.5-.5ZM19,21.5h-6v-3.5h6.5v3c0,.3-.2.5-.5.5Z"})]}),j=(0,b.jsx)(C.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,b.jsx)(C.Path,{d:"M11 5C11 4 10 3 9.00003 3H5.00003C3.98623 3 2.99293 4.01901 3.00003 5V19C2.99293 19.981 3.98623 21 5.00003 21H9.00003C10 21 11 20 11 19V15H9.50003V19C9.50003 19.3 9.30003 19.5 9.00003 19.5H5.00003C4.70003 19.5 4.50003 19.3 4.50003 19V12.75H8.30003L6.50003 14.5L7.50003 15.5L11 12L7.50003 8.5L6.50003 9.5L8.30003 11.25H4.50003V5C4.50003 4.7 4.70003 4.5 5.00003 4.5H9.00003C9.30003 4.5 9.50003 4.7 9.50003 5V9H11V5ZM21 5C21 4 20 3 19 3H15C13.9862 3 12.9929 4.01902 13 5V9H14.5V5C14.5 4.7 14.7 4.5 15 4.5H19C19.3 4.5 19.5 4.7 19.5 5V11.25H15.75L17.5 9.5L16.5 8.5L13 12L16.5 15.5L17.5 14.5L15.75 12.75H19.5V15.875V18.5L19 19H15.0012L14.5 18.5V15H13V19C12.9929 19.981 13.9874 21 15.0012 21H19C20 21 21 20 21 19V5Z"})}),y=(0,b.jsx)(C.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,b.jsx)(C.Path,{d:"M3 5C3 4 4 3 5 3H9C10.0138 3 11.0071 4.01901 11 5V19C11.0071 19.981 10.0138 21 9 21H5C4 21 3 20 3 19V15H4.5V19C4.5 19.3 4.7 19.5 5 19.5H9C9.3 19.5 9.5 19.3 9.5 19V12.75H5.7L7.5 14.5L6.5 15.5L3 12L6.5 8.5L7.5 9.5L5.7 11.25H9.5V5C9.5 4.7 9.3 4.5 9 4.5H5C4.7 4.5 4.5 4.7 4.5 5V9H3V5ZM13 5C13 4 14 3 15 3H19C20.0138 3 21.0071 4.01902 21 5V9H19.5V5C19.5 4.7 19.3 4.5 19 4.5H15C14.7 4.5 14.5 4.7 14.5 5V11.25H18.25L16.5 9.5L17.5 8.5L21 12L17.5 15.5L16.5 14.5L18.25 12.75H14.5V15.875V18.5L15 19H18.9988L19.5 18.5V15H21V19C21.0071 19.981 20.0126 21 18.9988 21H15C14 21 13 20 13 19V5Z"})}),S=(0,b.jsx)(C.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,b.jsx)(C.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M5.00001 3C4 3 3.00001 4 3.00001 5L3 9C3 10 4 11 5.00001 11H9C10 11 11 10 11 9L11 5C11 3.9 10.1 3 9.00001 3H5.00001ZM5.00001 9.5H9.00001C9.30001 9.5 9.50001 9.3 9.50001 9V5C9.50001 4.7 9.30001 4.5 9.00001 4.5H5.00001C4.70001 4.5 4.50001 4.7 4.50001 5V9C4.50001 9.3 4.70001 9.5 5.00001 9.5ZM15 3C14 3 13 4 13 5V9C13 10 14 11 15 11H19C20 11 21 10 21 9V5C21 4 20 3 19 3H15ZM15 9.5H19C19.3 9.5 19.5 9.3 19.5 9V5C19.5 4.7 19.3 4.5 19 4.5H15C14.7 4.5 14.5 4.7 14.5 5V9C14.5 9.3 14.7 9.5 15 9.5ZM5.00001 13C4 13 3 14 3 15L3.00001 19C3.00001 20 4 21 5 21H9C10 21 11 20 11 19V15C11 14 10 13 9.00001 13H5.00001ZM5.00001 19.5H9C9.3 19.5 9.50001 19.3 9.50001 19V15C9.50001 14.7 9.3 14.5 9 14.5H5C4.7 14.5 4.5 14.7 4.5 15L4.50001 19C4.50001 19.3 4.70001 19.5 5.00001 19.5ZM15 13C14 13 13 14 13 15V19C13 20 14 21 15 21H19C20 21 21 20 21 19V15C21 14 20 13 19 13H15ZM15 19.5H19C19.3 19.5 19.5 19.3 19.5 19L19.5 15C19.5 14.7 19.3 14.5 19 14.5H15C14.7 14.5 14.5 14.7 14.5 15V19C14.5 19.3 14.7 19.5 15 19.5Z"})}),I=(0,b.jsx)(C.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,b.jsx)(C.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M19 3H5C4 3 3 4 3 5V19C3 20 4 21 5 21H19C20 21 21 20 21 19V5C21 3.9 20.1 3 19 3ZM5 19.5C4.7 19.5 4.5 19.3 4.5 19V13.25C4.5 12.95 4.7 12.75 5 12.75H10.75C11.05 12.75 11.25 12.95 11.25 13.25V19C11.25 19.3 11.05 19.5 10.75 19.5H5ZM5 4.5C4.7 4.5 4.5 4.7 4.5 5V10.75C4.5 11.05 4.7 11.25 5 11.25H10.75C11.05 11.25 11.25 11.05 11.25 10.75V5C11.25 4.7 11.05 4.5 10.75 4.5H5ZM13.25 11.25C12.95 11.25 12.75 11.05 12.75 10.75V5C12.75 4.7 12.95 4.5 13.25 4.5H19C19.3 4.5 19.5 4.7 19.5 5V10.75C19.5 11.05 19.3 11.25 19 11.25H13.25ZM19 19.5C19.3 19.5 19.5 19.3 19.5 19V13.25C19.5 12.95 19.3 12.75 19 12.75H13.25C12.95 12.75 12.75 12.95 12.75 13.25V19C12.75 19.3 12.95 19.5 13.25 19.5H19Z"})}),H=(0,b.jsx)(C.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,b.jsx)(C.Path,{d:"M4,11.2h16v1.5H4v-1.5Z"})}),N=(0,b.jsxs)(C.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:[(0,b.jsx)(C.Circle,{cx:"6",cy:"12",r:"2"}),(0,b.jsx)(C.Circle,{cx:"18",cy:"12",r:"2"}),(0,b.jsx)(C.Circle,{cx:"12",cy:"12",r:"2"})]}),V=(0,b.jsx)(C.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,b.jsx)(C.Path,{d:"M4 11.25H8V12.75H4V11.25ZM16 11.25H20V12.75H16V11.25ZM10 11.25H14V12.75H10V11.25Z"})}),B=(0,b.jsx)(C.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,b.jsx)(C.Path,{d:"M4 9.5H20V11H4V9.5ZM4 13H20V14.5H4V13Z"})}),M="flexible-table-block",T="/flexible-table-block/v1/options",z={px:200,em:20,rem:20},A={px:50,em:5,rem:5},L={px:50,em:5,rem:5},R=["px","em","rem","%"],Z=["px","em","rem","%"],P=["px","em","rem","%"],O=["px","em","rem","%"],G=["px","em","rem"],F=["px","em","rem"],D=["px","em","rem"],E=["px","%","em","rem","vw","vh"],U={head:(0,o.__)("Header cell text","flexible-table-block"),body:(0,o.__)("Body cell text","flexible-table-block"),foot:(0,o.__)("Footer cell text","flexible-table-block")},W=[{icon:h,label:(0,o.__)("Justify table left","flexible-table-block"),value:"left"},{icon:p,label:(0,o.__)("Justify table center","flexible-table-block"),value:"center"},{icon:u,label:(0,o.__)("Justify table right","flexible-table-block"),value:"right"}],$=[{icon:I,label:(0,o.__)("Share","flexible-table-block"),value:"collapse"},{icon:S,label:(0,o.__)("Separate","flexible-table-block"),value:"separate"}],q=[{label:(0,o.__)("Solid","flexible-table-block"),value:"solid",icon:H},{label:(0,o.__)("Dotted","flexible-table-block"),value:"dotted",icon:N},{label:(0,o.__)("Dashed","flexible-table-block"),value:"dashed",icon:V},{label:(0,o.__)("Double","flexible-table-block"),value:"double",icon:B}],J=[{icon:_,label:(0,o.__)("Align left","flexible-table-block"),value:"left"},{icon:m,label:(0,o.__)("Align center","flexible-table-block"),value:"center"},{icon:g,label:(0,o.__)("Align right","flexible-table-block"),value:"right"}],K=[{icon:f,label:(0,o.__)("Align top","flexible-table-block"),value:"top"},{icon:v,label:(0,o.__)("Align middle","flexible-table-block"),value:"middle"},{icon:w,label:(0,o.__)("Align bottom","flexible-table-block"),value:"bottom"}],Q=[{label:(0,o._x)("none","Fixed control","flexible-table-block"),value:"none"},{label:(0,o.__)("Fixed header","flexible-table-block"),value:"header"},{label:(0,o.__)("Fixed first column","flexible-table-block"),value:"first-column"}],X=[{label:(0,o.__)("TH","flexible-table-block"),value:"th"},{label:(0,o.__)("TD","flexible-table-block"),value:"td"}],Y=[{label:(0,o._x)("none","Cell scope control","flexible-table-block"),value:"none"},{label:(0,o.__)("row","flexible-table-block"),value:"row"},{label:(0,o.__)("col","flexible-table-block"),value:"col"},{label:(0,o.__)("rowgroup","flexible-table-block"),value:"rowgroup"},{label:(0,o.__)("colgroup","flexible-table-block"),value:"colgroup"}],ee=[{label:(0,o.__)("Top","flexible-table-block"),value:"top"},{label:(0,o.__)("Bottom","flexible-table-block"),value:"bottom"}],te=[{label:(0,o.__)("Top left","flexible-table-block"),value:"topLeft"},{label:(0,o.__)("Top right","flexible-table-block"),value:"topRight"},{label:(0,o.__)("Bottom left","flexible-table-block"),value:"bottomLeft"},{label:(0,o.__)("Bottom right","flexible-table-block"),value:"bottomRight"}],le=[{label:(0,o.__)("Vertical","flexible-table-block"),value:"vertical"},{label:(0,o.__)("Horizontal","flexible-table-block"),value:"horizontal"}],oe=[{label:(0,o.__)("Top","flexible-table-block"),value:"top"},{label:(0,o.__)("Right","flexible-table-block"),value:"right"},{label:(0,o.__)("Bottom","flexible-table-block"),value:"bottom"},{label:(0,o.__)("Left","flexible-table-block"),value:"left"}],ne={options:{}},ae={getOptions:e=>({type:"GET_OPTIONS",path:e}),setOptions:e=>({type:"SET_OPTIONS",options:e})},ie={getOptions(e){const{options:t}=e;return t}},se={GET_OPTIONS:e=>c()({path:e.path})},re={*getOptions(){const e=yield ae.getOptions(T);return ae.setOptions(e)}},ce=(0,d.createReduxStore)(M,{reducer:(e=ne,t)=>"SET_OPTIONS"===t.type?{...e,options:t.options}:e,controls:se,selectors:ie,resolvers:re,actions:ae});(0,d.register)(ce);const de=JSON.parse('{"UU":"flexible-table-block/table"}'),be={attributes:{head:[{cells:[{content:(0,o.__)("Version","flexible-table-block"),tag:"th"},{content:(0,o.__)("Jazz Musician","flexible-table-block"),tag:"th"},{content:(0,o.__)("Release Date","flexible-table-block"),tag:"th"}]}],body:[{cells:[{content:"5.9",tag:"td"},{content:"Jos√©phine Baker",tag:"td"},{content:(0,o.__)("January 25, 2022","flexible-table-block"),tag:"td"}]},{cells:[{content:"5.8",tag:"td"},{content:"Art Tatum",tag:"td"},{content:(0,o.__)("July 20, 2021","flexible-table-block"),tag:"td"}]},{cells:[{content:"5.7",tag:"td"},{content:"Esperanza Spalding",tag:"td"},{content:(0,o.__)("March 9, 2021","flexible-table-block"),tag:"td"}]}]}};function xe(e){var t,l,o="";if("string"==typeof e||"number"==typeof e)o+=e;else if("object"==typeof e)if(Array.isArray(e)){var n=e.length;for(t=0;t<n;t++)e[t]&&(l=xe(e[t]))&&(o&&(o+=" "),o+=l)}else for(l in e)e[l]&&(o&&(o+=" "),o+=l);return o}const he=function(){for(var e,t,l=0,o="",n=arguments.length;l<n;l++)(e=arguments[l])&&(t=xe(e))&&(o&&(o+=" "),o+=t);return o},pe=window.wp.element;var ue=(0,b.jsx)(x.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,b.jsx)(x.Path,{d:"M21 5c0-1.1-.9-2-2-2H5c-1 0-1.9.8-2 1.8V19.2c.1.9.9 1.7 1.8 1.8H19c1.1 0 2-.9 2-2V5ZM4.5 14V5c0-.3.2-.5.5-.5h14c.3 0 .5.2.5.5v9h-15Zm4 5.5H5c-.3 0-.5-.2-.5-.5v-3.5h4v4Zm5.5 0h-4v-4h4v4Zm5.5-.5c0 .3-.2.5-.5.5h-3.5v-4h4V19ZM11.2 10h-3V8.5h3v-3h1.5v3h3V10h-3v3h-1.5v-3Z"})}),_e=(0,b.jsx)(x.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,b.jsx)(x.Path,{d:"M19 3H4.8c-.9.1-1.7.9-1.8 1.8V19.2c.1 1 1 1.8 2 1.8h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2Zm-9 1.5h4v4h-4v-4ZM4.5 5c0-.3.2-.5.5-.5h3.5v4h-4V5Zm15 14c0 .3-.2.5-.5.5H5c-.3 0-.5-.2-.5-.5v-9h15v9Zm0-10.5h-4v-4H19c.3 0 .5.2.5.5v3.5Zm-8.3 10h1.5v-3h3V14h-3v-3h-1.5v3h-3v1.5h3v3Z"})}),me=(0,b.jsx)(x.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,b.jsx)(x.Path,{d:"M19 3H4.8c-.9.1-1.7.9-1.8 1.8V19.2c.1 1 1 1.8 2 1.8h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2Zm.5 16c0 .3-.2.5-.5.5H5c-.3 0-.5-.2-.5-.5v-9h15v9Zm0-10.5h-15V5c0-.3.2-.5.5-.5h14c.3 0 .5.2.5.5v3.5Zm-9.6 9.4 2.1-2.1 2.1 2.1 1.1-1.1-2.1-2.1 2.1-2.1-1.1-1.1-2.1 2.1-2.1-2.1-1.1 1.1 2.1 2.1-2.1 2.1 1.1 1.1Z"})}),ge=(0,b.jsx)(x.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,b.jsx)(x.Path,{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1 .8 1.9 1.8 2H19.2c.9-.1 1.7-.9 1.8-1.8V5c0-1.1-.9-2-2-2Zm-5 16.5H5c-.3 0-.5-.2-.5-.5V5c0-.3.2-.5.5-.5h9v15Zm5.5-.5c0 .3-.2.5-.5.5h-3.5v-4h4V19Zm0-5h-4v-4h4v4Zm0-5.5h-4v-4H19c.3 0 .5.2.5.5v3.5Zm-11 7.3H10v-3h3v-1.5h-3v-3H8.5v3h-3v1.5h3v3Z"})}),fe=(0,b.jsx)(x.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,b.jsx)(x.Path,{d:"M19 3H5c-1.1 0-2 .9-2 2v14.2c.1.9.9 1.7 1.8 1.8H19.2c1-.1 1.8-1 1.8-2V5c0-1.1-.9-2-2-2ZM8.5 19.5H5c-.3 0-.5-.2-.5-.5v-3.5h4v4Zm0-5.5h-4v-4h4v4Zm0-5.5h-4V5c0-.3.2-.5.5-.5h3.5v4Zm11 10.5c0 .3-.2.5-.5.5h-9v-15h9c.3 0 .5.2.5.5v14Zm-4-10.8H14v3h-3v1.5h3v3h1.5v-3h3v-1.5h-3v-3Z"})}),ve=(0,b.jsx)(x.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,b.jsx)(x.Path,{d:"M19 3H5c-1.1 0-2 .9-2 2v14.2c.1.9.9 1.7 1.8 1.8H19.2c1-.1 1.8-1 1.8-2V5c0-1.1-.9-2-2-2ZM8.5 19.5H5c-.3 0-.5-.2-.5-.5V5c0-.3.2-.5.5-.5h3.5v15Zm11-.5c0 .3-.2.5-.5.5h-9v-15h9c.3 0 .5.2.5.5v14ZM16.9 8.8l-2.1 2.1-2.1-2.1-1.1 1.1 2.1 2.1-2.1 2.1 1.1 1.1 2.1-2.1 2.1 2.1 1.1-1.1-2.1-2.1L18 9.9l-1.1-1.1Z"})}),we=(0,b.jsx)(x.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,b.jsx)(x.Path,{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM5 4.5h14c.3 0 .5.2.5.5v3.5h-15V5c0-.3.2-.5.5-.5zm8 5.5h6.5v3.5H13V10zm-1.5 3.5h-7V10h7v3.5zm-7 5.5v-4h7v4.5H5c-.3 0-.5-.2-.5-.5zm14.5.5h-6V15h6.5v4c0 .3-.2.5-.5.5z"})});const Ce=window.wp.notices;var ke=(0,b.jsx)(x.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,b.jsx)(x.Path,{d:"M10 17.389H8.444A5.194 5.194 0 1 1 8.444 7H10v1.5H8.444a3.694 3.694 0 0 0 0 7.389H10v1.5ZM14 7h1.556a5.194 5.194 0 0 1 0 10.39H14v-1.5h1.556a3.694 3.694 0 0 0 0-7.39H14V7Zm-4.5 6h5v-1.5h-5V13Z"})}),je=(0,b.jsx)(x.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,b.jsx)(x.Path,{d:"M17.031 4.703 15.576 4l-1.56 3H14v.03l-2.324 4.47H9.5V13h1.396l-1.502 2.889h-.95a3.694 3.694 0 0 1 0-7.389H10V7H8.444a5.194 5.194 0 1 0 0 10.389h.17L7.5 19.53l1.416.719L15.049 8.5h.507a3.694 3.694 0 0 1 0 7.39H14v1.5h1.556a5.194 5.194 0 0 0 .273-10.383l1.202-2.304Z"})});function ye({label:e,value:t,isNone:l,isTransparent:n,isMixed:a=!1,onClick:i}){return(0,b.jsx)(C.Button,{label:e,className:he("ftb-color-indicator-button",{"is-none":l,"is-mixed":a,"is-transparent":n}),onClick:i,children:a?(0,o.__)("Mixed","flexible-table-block"):(0,b.jsx)(C.ColorIndicator,{colorValue:t||"",className:"ftb-color-indicator-button__indicator"})})}var Se=(0,pe.forwardRef)((({icon:e,size:t=24,...l},o)=>(0,pe.cloneElement)(e,{width:t,height:t,...l,ref:o}))),Ie=(0,b.jsxs)(x.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:[(0,b.jsx)(x.Path,{d:"m7.5 6h9v-1.5h-9zm0 13.5h9v-1.5h-9zm-3-3h1.5v-9h-1.5zm13.5-9v9h1.5v-9z",style:{opacity:.25}}),(0,b.jsx)(x.Path,{d:"m16.5 6h-9v-1.5h9z"})]}),He=(0,b.jsxs)(x.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:[(0,b.jsx)(x.Path,{d:"m7.5 6h9v-1.5h-9zm0 13.5h9v-1.5h-9zm-3-3h1.5v-9h-1.5zm13.5-9v9h1.5v-9z",style:{opacity:.25}}),(0,b.jsx)(x.Path,{d:"m18 16.5v-9h1.5v9z"})]}),Ne=(0,b.jsxs)(x.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:[(0,b.jsx)(x.Path,{d:"m7.5 6h9v-1.5h-9zm0 13.5h9v-1.5h-9zm-3-3h1.5v-9h-1.5zm13.5-9v9h1.5v-9z",style:{opacity:.25}}),(0,b.jsx)(x.Path,{d:"m16.5 19.5h-9v-1.5h9z"})]}),Ve=(0,b.jsxs)(x.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:[(0,b.jsx)(x.Path,{d:"m7.5 6h9v-1.5h-9zm0 13.5h9v-1.5h-9zm-3-3h1.5v-9h-1.5zm13.5-9v9h1.5v-9z",style:{opacity:.25}}),(0,b.jsx)(x.Path,{d:"m4.5 16.5v-9h1.5v9z"})]}),Be=(0,b.jsx)(x.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,b.jsx)(x.Path,{d:"m7.5 6h9v-1.5h-9zm0 13.5h9v-1.5h-9zm-3-3h1.5v-9h-1.5zm13.5-9v9h1.5v-9z"})}),Me=(0,b.jsxs)(x.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:[(0,b.jsx)(x.G,{opacity:".25",children:(0,b.jsx)(x.Path,{d:"M5.75 6A.25.25 0 0 1 6 5.75h3v-1.5H6A1.75 1.75 0 0 0 4.25 6v3h1.5V6ZM18 18.25h-3v1.5h3A1.75 1.75 0 0 0 19.75 18v-3h-1.5v3a.25.25 0 0 1-.25.25ZM18.25 9V6a.25.25 0 0 0-.25-.25h-3v-1.5h3c.966 0 1.75.784 1.75 1.75v3h-1.5ZM5.75 18v-3h-1.5v3c0 .966.784 1.75 1.75 1.75h3v-1.5H6a.25.25 0 0 1-.25-.25Z"})}),(0,b.jsx)(x.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M6 5.75a.25.25 0 0 0-.25.25v3h-1.5V6c0-.966.784-1.75 1.75-1.75h3v1.5H6Z"})]}),Te=(0,b.jsxs)(x.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:[(0,b.jsx)(x.G,{opacity:".25",children:(0,b.jsx)(x.Path,{d:"M5.75 6A.25.25 0 0 1 6 5.75h3v-1.5H6A1.75 1.75 0 0 0 4.25 6v3h1.5V6ZM18 18.25h-3v1.5h3A1.75 1.75 0 0 0 19.75 18v-3h-1.5v3a.25.25 0 0 1-.25.25ZM18.25 9V6a.25.25 0 0 0-.25-.25h-3v-1.5h3c.966 0 1.75.784 1.75 1.75v3h-1.5ZM5.75 18v-3h-1.5v3c0 .966.784 1.75 1.75 1.75h3v-1.5H6a.25.25 0 0 1-.25-.25Z"})}),(0,b.jsx)(x.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M18.25 9V6a.25.25 0 0 0-.25-.25h-3v-1.5h3c.966 0 1.75.784 1.75 1.75v3h-1.5Z"})]}),ze=(0,b.jsxs)(x.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:[(0,b.jsx)(x.G,{opacity:".25",children:(0,b.jsx)(x.Path,{d:"M5.75 6A.25.25 0 0 1 6 5.75h3v-1.5H6A1.75 1.75 0 0 0 4.25 6v3h1.5V6ZM18 18.25h-3v1.5h3A1.75 1.75 0 0 0 19.75 18v-3h-1.5v3a.25.25 0 0 1-.25.25ZM18.25 9V6a.25.25 0 0 0-.25-.25h-3v-1.5h3c.966 0 1.75.784 1.75 1.75v3h-1.5ZM5.75 18v-3h-1.5v3c0 .966.784 1.75 1.75 1.75h3v-1.5H6a.25.25 0 0 1-.25-.25Z"})}),(0,b.jsx)(x.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M15 18.25h3a.25.25 0 0 0 .25-.25v-3h1.5v3A1.75 1.75 0 0 1 18 19.75h-3v-1.5Z"})]}),Ae=(0,b.jsxs)(x.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:[(0,b.jsx)(x.G,{opacity:".25",children:(0,b.jsx)(x.Path,{d:"M5.75 6A.25.25 0 0 1 6 5.75h3v-1.5H6A1.75 1.75 0 0 0 4.25 6v3h1.5V6ZM18 18.25h-3v1.5h3A1.75 1.75 0 0 0 19.75 18v-3h-1.5v3a.25.25 0 0 1-.25.25ZM18.25 9V6a.25.25 0 0 0-.25-.25h-3v-1.5h3c.966 0 1.75.784 1.75 1.75v3h-1.5ZM5.75 18v-3h-1.5v3c0 .966.784 1.75 1.75 1.75h3v-1.5H6a.25.25 0 0 1-.25-.25Z"})}),(0,b.jsx)(x.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M5.75 15v3c0 .138.112.25.25.25h3v1.5H6A1.75 1.75 0 0 1 4.25 18v-3h1.5Z"})]}),Le=(0,b.jsx)(x.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,b.jsx)(x.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M5.75 6A.25.25 0 0 1 6 5.75h3v-1.5H6A1.75 1.75 0 0 0 4.25 6v3h1.5V6ZM18 18.25h-3v1.5h3A1.75 1.75 0 0 0 19.75 18v-3h-1.5v3a.25.25 0 0 1-.25.25ZM18.25 9V6a.25.25 0 0 0-.25-.25h-3v-1.5h3c.966 0 1.75.784 1.75 1.75v3h-1.5Zm-12.5 9v-3h-1.5v3c0 .966.784 1.75 1.75 1.75h3v-1.5H6a.25.25 0 0 1-.25-.25Z"})}),Re=(0,b.jsxs)(x.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:[(0,b.jsx)(x.Path,{d:"m7.5 6h9v-1.5h-9zm0 13.5h9v-1.5h-9zm-3-3h1.5v-9h-1.5zm13.5-9v9h1.5v-9z",style:{opacity:.25}}),(0,b.jsx)(x.Path,{d:"m4.5 7.5v9h1.5v-9z"}),(0,b.jsx)(x.Path,{d:"m18 7.5v9h1.5v-9z"})]}),Ze=(0,b.jsxs)(x.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:[(0,b.jsx)(x.Path,{d:"m7.5 6h9v-1.5h-9zm0 13.5h9v-1.5h-9zm-3-3h1.5v-9h-1.5zm13.5-9v9h1.5v-9z",style:{opacity:.25}}),(0,b.jsx)(x.Path,{d:"m7.5 6h9v-1.5h-9z"}),(0,b.jsx)(x.Path,{d:"m7.5 19.5h9v-1.5h-9z"})]});function Pe({side:e}){return"top"===e?(0,b.jsx)(Se,{icon:Ie}):"right"===e?(0,b.jsx)(Se,{icon:He}):"bottom"===e?(0,b.jsx)(Se,{icon:Ne}):"left"===e?(0,b.jsx)(Se,{icon:Ve}):(0,b.jsx)(Se,{icon:Be})}function Oe({corner:e}){return"topLeft"===e?(0,b.jsx)(Se,{icon:Me}):"topRight"===e?(0,b.jsx)(Se,{icon:Te}):"bottomRight"===e?(0,b.jsx)(Se,{icon:ze}):"bottomLeft"===e?(0,b.jsx)(Se,{icon:Ae}):(0,b.jsx)(Se,{icon:Le})}function Ge({direction:e}){return"horizontal"===e?(0,b.jsx)(Se,{icon:Re}):"vertical"===e?(0,b.jsx)(Se,{icon:Ze}):(0,b.jsx)(Se,{icon:Be})}const Fe={top:"",right:"",bottom:"",left:""};function De({label:e=(0,o.__)("Border color","flexible-table-block"),help:t,onChange:l,values:n,className:i}){const r={...Fe,...n},c=`${(0,s.useInstanceId)(De,"ftb-border-color-control")}-heading`,x=!(r.top===r.right&&r.top===r.bottom&&r.top===r.left),h=(0,d.useSelect)((e=>{var t;const l=e(a.store).getSettings();return null!==(t=l?.colors)&&void 0!==t?t:[]}),[]),[p,u]=(0,pe.useState)(!0),[_,m]=(0,pe.useState)(!1),[g,f]=(0,pe.useState)(void 0),v=p?(0,o.__)("Unlink sides","flexible-table-block"):(0,o.__)("Link sides","flexible-table-block"),w=x?"":r.top,k=e=>{m(!0),f(e)},j=()=>{m(!1),f(void 0)};return(0,b.jsx)(C.BaseControl,{className:he("ftb-border-color-control",i),help:t,__nextHasNoMarginBottom:!0,children:(0,b.jsxs)(C.__experimentalVStack,{"aria-labelledby":c,role:"group",children:[(0,b.jsx)(C.__experimentalText,{id:c,upperCase:!0,size:"11",weight:"500",children:e}),(0,b.jsxs)(C.__experimentalHStack,{alignment:"start",justify:"space-between",children:[p?(0,b.jsxs)(C.__experimentalHStack,{spacing:3,justify:"start",children:[(0,b.jsx)(Pe,{}),(0,b.jsx)(ye,{label:(0,o.__)("All","flexible-table-block"),value:w,onClick:()=>k(void 0),isNone:!w&&!x,isTransparent:"transparent"===w,isMixed:x}),_&&!g&&(0,b.jsx)(C.Popover,{placement:"left-start",shift:!0,offset:36,onClose:j,children:(0,b.jsx)(C.__experimentalSpacer,{padding:4,marginBottom:0,children:(0,b.jsx)(C.ColorPalette,{colors:h,value:w||"",onChange:e=>{l({top:e,right:e,bottom:e,left:e})}})})})]}):(0,b.jsx)(C.__experimentalVStack,{children:oe.map(((e,t)=>(0,b.jsxs)(C.__experimentalHStack,{spacing:3,justify:"start",children:[(0,b.jsx)(Pe,{side:e.value}),(0,b.jsx)(ye,{label:e.label,value:r[e.value],onClick:()=>k(t),isNone:!r[e.value],isTransparent:"transparent"===r[e.value]}),_&&g===t&&(0,b.jsx)(C.Popover,{placement:"left-start",shift:!0,offset:36,onClose:j,children:(0,b.jsx)(C.__experimentalSpacer,{padding:4,marginBottom:0,children:(0,b.jsx)(C.ColorPalette,{colors:h,value:r[e.value]||"",onChange:t=>{return o=t,n=e.value,void l({...r,[n]:o});var o,n}})})})]},e.value)))}),(0,b.jsx)(C.Button,{label:v,onClick:()=>u(!p),icon:p?ke:je,size:"small"})]})]})})}var Ee=l(482),Ue=l.n(Ee);function We(e){if(null===e||"object"!=typeof e||Array.isArray(e))return e;const t=Object.entries(e).map((([e,t])=>[e,We(t)])).filter((([,e])=>void 0!==e));return t.length?Object.fromEntries(t):void 0}function $e(e=""){const t=Ue()(e).nodes.filter((e=>"space"!==e.type)).map((e=>"function"===e.type?Ue().stringify(e):e.value)).slice(0,4);switch(t.length){case 1:return[t[0],t[0],t[0],t[0]];case 2:return[t[0],t[1],t[0],t[1]];case 3:return[t[0],t[1],t[2],t[1]];case 4:return[t[0],t[1],t[2],t[3]];default:return["","","",""]}}function qe(e,t){var l;const o=String(e).trim();let n=parseFloat(o);if(isNaN(n))return"";if(n<0)return"";if(0===n)return"0";t?.minNum&&(n=Math.max(t.minNum,n)),t?.maxNum&&(n=Math.min(t.maxNum,n));const a=10**(t?.precision||4);return n=Math.round(n*a)/a,`${n}${(null!==(l=o.match(/[\d.\-+]*\s*(.*)/)?.[1])&&void 0!==l?l:"").toLowerCase()}`}function Je(e){var t;const l=String(e).trim(),o=parseFloat(l);return isNaN(o)?[0,""]:[o,(null!==(t=l.match(/[\d.\-+]*\s*(.*)/)?.[1])&&void 0!==t?t:"").toLowerCase()]}function Ke(e,t=0){if(!e)return t;const l=parseInt(String(e),10);return isNaN(l)?t:l||t}function Qe(e){const t=parseInt(e,10);if(Number.isInteger(t))return t<0||1===t?void 0:t.toString()}const Xe={topLeft:"",topRight:"",bottomRight:"",bottomLeft:""};function Ye({label:e=(0,o.__)("Border radius","flexible-table-block"),help:t,onChange:l,values:n,className:a}){const i={...Xe,...n},r=`${(0,s.useInstanceId)(Ye,"ftb-border-radius-control")}-heading`,c=!(i.topLeft===i.topRight&&i.topLeft===i.bottomRight&&i.topLeft===i.bottomLeft),d=(0,C.__experimentalUseCustomUnits)({availableUnits:F}),[x,h]=(0,pe.useState)(!0),[p,u]=(0,pe.useState)(void 0),_=x?(0,o.__)("Unlink sides","flexible-table-block"):(0,o.__)("Link sides","flexible-table-block"),m=c?(0,o.__)("Mixed","flexible-table-block"):"",g=c?"":i.topLeft;return(0,b.jsx)(C.BaseControl,{className:he("ftb-border-radius-control",a),help:t,__nextHasNoMarginBottom:!0,children:(0,b.jsxs)(C.__experimentalVStack,{"aria-labelledby":r,role:"group",children:[(0,b.jsx)(C.__experimentalText,{id:r,upperCase:!0,size:"11",weight:"500",children:e}),(0,b.jsxs)(C.__experimentalHStack,{alignment:"center",justify:"space-between",style:{minHeight:"40px"},children:[(0,b.jsxs)(C.__experimentalHStack,{justify:"start",children:[(0,b.jsx)(Oe,{corner:p}),x&&(0,b.jsx)("div",{children:(0,b.jsx)(C.__experimentalUnitControl,{hideLabelFromVision:!0,label:(0,o.__)("All","flexible-table-block"),placeholder:m,onChange:e=>{if(e){const[,t]=Je(e),o=qe(e,{maxNum:z[t]});l({topLeft:o,topRight:o,bottomRight:o,bottomLeft:o})}else l({topLeft:void 0,topRight:void 0,bottomRight:void 0,bottomLeft:void 0})},value:g,units:d,min:0,size:"__unstable-large",__unstableInputWidth:"100px"})})]}),(0,b.jsx)(C.Button,{label:_,onClick:()=>{h(!x),u(void 0)},icon:x?ke:je,size:"small"})]}),!x&&(0,b.jsx)(C.__experimentalGrid,{gap:2,children:te.map((e=>(0,b.jsx)("div",{children:(0,b.jsx)(C.__experimentalUnitControl,{"aria-label":e.label,value:i[e.value],units:d,min:0,onFocus:()=>{return t=e.value,u(t);var t},onChange:t=>((e,t)=>{if(e){const[,o]=Je(e),n=qe(e,{maxNum:z[o]});l({...i,[t]:n})}else l({...i,[t]:void 0})})(t,e.value),size:"__unstable-large",style:{marginBottom:0}})},e.value)))})]})})}const et={top:"",right:"",bottom:"",left:""};function tt({label:e=(0,o.__)("Border style","flexible-table-block"),help:t,onChange:l,values:n,allowSides:a=!0,hasIndicator:i=!0,className:r}){const c={...et,...n},d=`${(0,s.useInstanceId)(tt,"ftb-border-style-control")}-heading`,x=a&&!(c.top===c.right&&c.top===c.bottom&&c.top===c.left),[h,p]=(0,pe.useState)(!0),u=h?(0,o.__)("Unlink sides","flexible-table-block"):(0,o.__)("Link sides","flexible-table-block"),_=x?void 0:c.top||void 0;return(0,b.jsx)(C.BaseControl,{className:he("ftb-border-style-control",r),help:t,__nextHasNoMarginBottom:!0,children:(0,b.jsxs)(C.__experimentalVStack,{"aria-labelledby":d,role:"group",children:[(0,b.jsx)(C.__experimentalText,{id:d,upperCase:!0,size:"11",weight:"500",children:x&&h?`${e} ${(0,o.__)("(Mixed)","flexible-table-block")}`:e}),(0,b.jsxs)(C.__experimentalHStack,{alignment:"start",justify:"space-between",children:[h?(0,b.jsxs)(C.__experimentalHStack,{spacing:2,justify:"start",children:[i&&(0,b.jsx)(Pe,{}),(0,b.jsx)(C.__experimentalToggleGroupControl,{hideLabelFromVision:!0,__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0,label:e,value:_,isDeselectable:!0,onChange:e=>{const t=e===c.top&&e===c.right&&e===c.bottom&&e===c.left?void 0:e;l({top:t,right:t,bottom:t,left:t})},children:q.map((e=>(0,b.jsx)(C.__experimentalToggleGroupControlOptionIcon,{label:e.label,value:e.value,icon:e.icon},e.value)))})]}):(0,b.jsx)(C.__experimentalVStack,{spacing:1,children:oe.map((e=>(0,b.jsxs)(C.__experimentalHStack,{spacing:2,justify:"start",children:[i&&(0,b.jsx)(Pe,{side:e.value}),(0,b.jsx)(C.__experimentalToggleGroupControl,{hideLabelFromVision:!0,__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0,label:e.label,value:c[e.value]||void 0,isDeselectable:!0,onChange:t=>((e,t)=>{const o=c[t]&&e===c[t]?void 0:e;l({...c,[t]:o})})(t,e.value),children:q.map((e=>(0,b.jsx)(C.__experimentalToggleGroupControlOptionIcon,{label:e.label,value:e.value,icon:e.icon},e.value)))})]},e.value)))}),a&&(0,b.jsx)(C.Button,{label:u,onClick:()=>p(!h),icon:h?ke:je,size:"small",style:{marginTop:"6px"}})]})]})})}const lt={top:"",right:"",bottom:"",left:""};function ot({label:e=(0,o.__)("Border width","flexible-table-block"),help:t,onChange:l,values:n,allowSides:a=!0,hasIndicator:i=!0,className:r}){const c={...lt,...n},d=`${(0,s.useInstanceId)(ot,"ftb-border-width-control")}-heading`,x=a&&!(c.top===c.right&&c.top===c.bottom&&c.top===c.left),h=(0,C.__experimentalUseCustomUnits)({availableUnits:D}),[p,u]=(0,pe.useState)(!0),[_,m]=(0,pe.useState)(void 0),g=p?(0,o.__)("Unlink sides","flexible-table-block"):(0,o.__)("Link sides","flexible-table-block"),f=x?(0,o.__)("Mixed","flexible-table-block"):"",v=x?"":c.top;return(0,b.jsx)(C.BaseControl,{className:he("ftb-border-width-control",r),help:t,__nextHasNoMarginBottom:!0,children:(0,b.jsxs)(C.__experimentalVStack,{"aria-labelledby":d,role:"group",children:[(0,b.jsx)(C.__experimentalText,{id:d,upperCase:!0,size:"11",weight:"500",children:e}),(0,b.jsxs)(C.__experimentalHStack,{alignment:"center",justify:"space-between",style:{minHeight:"40px"},children:[(0,b.jsxs)(C.__experimentalHStack,{justify:"start",children:[i&&(0,b.jsx)(Pe,{side:_}),(p||!a)&&(0,b.jsx)("div",{children:(0,b.jsx)(C.__experimentalUnitControl,{"aria-label":(0,o.__)("All","flexible-table-block"),value:v,units:h,placeholder:f,onChange:e=>{if(e){const[,t]=Je(e),o=qe(e,{maxNum:A[t]});l({top:o,right:o,bottom:o,left:o})}else l({top:void 0,right:void 0,bottom:void 0,left:void 0})},size:"__unstable-large",__unstableInputWidth:"100px"})})]}),a&&(0,b.jsx)(C.Button,{label:g,icon:p?ke:je,onClick:()=>{u(!p),m(void 0)},size:"small"})]}),!p&&a&&(0,b.jsx)(C.__experimentalGrid,{gap:2,columns:2,rows:3,children:oe.map((e=>{return(0,b.jsx)("div",{style:(t=e.value,"top"===t||"bottom"===t?{gridColumn:"span 2",margin:"0 auto"}:"right"===t?{gridColumn:2,display:"flex",justifyContent:"flex-end"}:{gridRow:2}),children:(0,b.jsx)(C.__experimentalUnitControl,{"aria-label":e.label,value:c[e.value],units:h,onFocus:()=>{return t=e.value,m(t);var t},onChange:t=>((e,t)=>{if(e){const[,o]=Je(e),n=qe(e,{maxNum:A[o]});l({...c,[t]:n})}else l({...c,[t]:void 0})})(t,e.value),size:"__unstable-large",__unstableInputWidth:"100px"})},e.value);var t}))})]})})}const nt={horizontal:"",vertical:""};function at({label:e=(0,o.__)("Border spacing","flexible-table-block"),help:t,onChange:l,values:n}){const a={...nt,...n},i=`${(0,s.useInstanceId)(at,"ftb-border-spacing-control")}-heading`,r=!(a.horizontal===a.vertical),c=(0,C.__experimentalUseCustomUnits)({availableUnits:G}),[d,x]=(0,pe.useState)(!0),h=d?(0,o.__)("Unlink directions","flexible-table-block"):(0,o.__)("Link directions","flexible-table-block"),p=r?(0,o.__)("Mixed","flexible-table-block"):"",u=r?"":a.horizontal;return(0,b.jsx)(C.BaseControl,{className:"ftb-border-spacing-control",help:t,__nextHasNoMarginBottom:!0,children:(0,b.jsxs)(C.__experimentalVStack,{"aria-labelledby":i,role:"group",children:[(0,b.jsx)(C.__experimentalText,{id:i,upperCase:!0,size:"11",weight:"500",children:e}),(0,b.jsxs)(C.__experimentalHStack,{alignment:"start",justify:"space-between",children:[d?(0,b.jsxs)(C.__experimentalHStack,{justify:"start",children:[(0,b.jsx)(Ge,{}),(0,b.jsx)(C.__experimentalUnitControl,{"aria-label":(0,o.__)("All","flexible-table-block"),value:u,units:c,placeholder:p,onChange:e=>{if(e){const[,t]=Je(e),o=qe(e,{maxNum:L[t]});l({horizontal:o,vertical:o})}else l({horizontal:void 0,vertical:void 0})},size:"__unstable-large",__unstableInputWidth:"100px"})]}):(0,b.jsx)(C.__experimentalVStack,{spacing:1,children:le.map((e=>(0,b.jsxs)(C.__experimentalHStack,{justify:"start",children:[(0,b.jsx)(Ge,{direction:e.value}),(0,b.jsx)(C.__experimentalUnitControl,{"aria-label":e.label,value:a[e.value],units:c,onChange:t=>((e,t)=>{if(e){const[,o]=Je(e),n=qe(e,{maxNum:L[o]});l({...a,[t]:n})}else l({...a,[t]:void 0})})(t,e.value),size:"__unstable-large",__unstableInputWidth:"100px"},e.value)]},e.value)))}),(0,b.jsx)(C.Button,{label:h,icon:d?ke:je,onClick:()=>{x(!d)},size:"small",style:{marginTop:"8px"}})]})]})})}function it({label:e=(0,o.__)("Color","flexible-table-block"),help:t,onChange:l,colors:n=[],value:i,className:r}){const c=`${(0,s.useInstanceId)(it,"ftb-color-control")}-heading`,x=(0,d.useSelect)((e=>{var t;const l=e(a.store).getSettings();return null!==(t=l?.colors)&&void 0!==t?t:[]}),[]),[h,p]=(0,pe.useState)(!1);return(0,b.jsxs)(C.BaseControl,{className:he("ftb-color-control",r),help:t,__nextHasNoMarginBottom:!0,children:[(0,b.jsxs)(C.__experimentalVStack,{"aria-labelledby":c,role:"group",children:[(0,b.jsx)(C.__experimentalText,{id:c,upperCase:!0,size:"11",weight:"500",children:e}),(0,b.jsx)(ye,{label:(0,o.__)("Color","flexible-table-block"),value:i,onClick:()=>p(!0),isNone:!i,isTransparent:"transparent"===i})]}),h&&(0,b.jsx)(C.Popover,{placement:"left-start",shift:!0,offset:36,onClose:()=>p(!1),children:(0,b.jsx)(C.__experimentalSpacer,{padding:4,marginBottom:0,children:(0,b.jsx)(C.ColorPalette,{colors:[...x,...n],value:i||"",onChange:e=>l(e)})})})]})}const st={top:"",right:"",bottom:"",left:""};function rt({label:e=(0,o.__)("Padding","flexible-table-block"),help:t,onChange:l,values:n,className:a}){const i={...st,...n},r=`${(0,s.useInstanceId)(rt,"ftb-padding-control")}-heading`,c=!(i.top===i.right&&i.top===i.bottom&&i.top===i.left),d=(0,C.__experimentalUseCustomUnits)({availableUnits:E}),[x,h]=(0,pe.useState)(!0),[p,u]=(0,pe.useState)(void 0),_=x?(0,o.__)("Unlink sides","flexible-table-block"):(0,o.__)("Link sides","flexible-table-block"),m=c?(0,o.__)("Mixed","flexible-table-block"):"",g=c?"":i.top;return(0,b.jsx)(C.BaseControl,{className:he("ftb-padding-control",a),help:t,__nextHasNoMarginBottom:!0,children:(0,b.jsxs)(C.__experimentalVStack,{"aria-labelledby":r,role:"group",children:[(0,b.jsx)(C.__experimentalText,{id:r,upperCase:!0,size:"11",weight:"500",children:e}),(0,b.jsxs)(C.__experimentalHStack,{alignment:"center",justify:"space-between",style:{minHeight:"40px"},children:[(0,b.jsxs)(C.__experimentalHStack,{justify:"start",children:[(0,b.jsx)(Pe,{side:p}),x&&(0,b.jsx)("div",{children:(0,b.jsx)(C.__experimentalUnitControl,{placeholder:m,"aria-label":(0,o.__)("All","flexible-table-block"),onChange:e=>{const t=qe(e);l({top:t,right:t,bottom:t,left:t})},value:g,units:d,size:"__unstable-large",__unstableInputWidth:"100px"})})]}),(0,b.jsx)(C.Button,{label:_,onClick:()=>{h(!x),u(void 0)},icon:x?ke:je,size:"small"})]}),!x&&(0,b.jsx)(C.__experimentalGrid,{gap:2,columns:2,rows:3,children:oe.map((e=>{return(0,b.jsx)("div",{style:(t=e.value,"top"===t||"bottom"===t?{gridColumn:"span 2",margin:"0 auto"}:"right"===t?{gridColumn:2,display:"flex",justifyContent:"flex-end"}:{gridRow:2}),children:(0,b.jsx)(C.__experimentalUnitControl,{"aria-label":e.label,value:i[e.value],units:d,onFocus:()=>{return t=e.value,u(t);var t},onChange:t=>{return o=t,n=e.value,void l({...i,[n]:qe(o)});var o,n},size:"__unstable-large",__unstableInputWidth:"100px"})},e.value);var t}))})]})})}function ct(e){return e?e.split(";").filter((e=>e.split(":")[0]&&e.split(":")[1])).map((e=>[e.split(":")[0].trim().replace(/-./g,(e=>e.substr(1).toUpperCase())),e.split(":")[1].trim()])).reduce(((e,t)=>({...e,[t[0]]:t[1]})),{}):{}}function dt(e){return Object.keys(e).reduce(((t,l)=>{const o=l.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),n=e[l];return void 0===n||"string"!=typeof n&&0!==n||t.push(`${o}:${n};`),t}),[]).join("")}function bt(e,t,l,o,n){return t===l&&t===o&&t===n?{[e]:t}:t===o&&n===l?{[e]:`${t} ${n}`}:n===l?{[e]:`${t} ${n} ${o}`}:{[e]:`${t} ${l} ${o} ${n}`}}function xt(e,t){if(!t)return e;const l=t.top?qe(t.top):void 0,o=t.right?qe(t.right):void 0,n=t.bottom?qe(t.bottom):void 0,a=t.left?qe(t.left):void 0,{padding:i,paddingTop:s,paddingRight:r,paddingBottom:c,paddingLeft:d,...b}=e;return l&&o&&n&&a?{...b,...bt("padding",l,o,n,a)}:{...b,...We({paddingTop:l,paddingRight:o,paddingBottom:n,paddingLeft:a})}}function ht(e,t){if(!t)return e;const l=t.top?qe(t.top):void 0,o=t.right?qe(t.right):void 0,n=t.bottom?qe(t.bottom):void 0,a=t.left?qe(t.left):void 0,{borderWidth:i,borderTopWidth:s,borderRightWidth:r,borderBottomWidth:c,borderLeftWidth:d,...b}=e;return l&&o&&n&&a?{...b,...bt("borderWidth",l,o,n,a)}:{...b,...We({borderTopWidth:l,borderRightWidth:o,borderBottomWidth:n,borderLeftWidth:a})}}function pt(e,t){var l,o,n,a;if(!t)return e;const i=null!==(l=t.top)&&void 0!==l?l:void 0,s=null!==(o=t.right)&&void 0!==o?o:void 0,r=null!==(n=t.bottom)&&void 0!==n?n:void 0,c=null!==(a=t.left)&&void 0!==a?a:void 0,{borderStyle:d,borderTopStyle:b,borderRightStyle:x,borderBottomStyle:h,borderLeftStyle:p,...u}=e;return i&&s&&r&&c?{...u,...bt("borderStyle",i,s,r,c)}:{...u,...We({borderTopStyle:i,borderRightStyle:s,borderBottomStyle:r,borderLeftStyle:c})}}function ut(e,t){var l,o,n,a;if(!t)return e;const i=null!==(l=t.top)&&void 0!==l?l:void 0,s=null!==(o=t.right)&&void 0!==o?o:void 0,r=null!==(n=t.bottom)&&void 0!==n?n:void 0,c=null!==(a=t.left)&&void 0!==a?a:void 0,{borderColor:d,borderTopColor:b,borderRightColor:x,borderBottomColor:h,borderLeftColor:p,...u}=e;return i&&s&&r&&c?{...u,...bt("borderColor",i,s,r,c)}:{...u,...We({borderTopColor:i,borderRightColor:s,borderBottomColor:r,borderLeftColor:c})}}function _t(e,t){if(!t)return e;const l=t?.topLeft?qe(t.topLeft):void 0,o=t?.topRight?qe(t.topRight):void 0,n=t?.bottomRight?qe(t.bottomRight):void 0,a=t?.bottomLeft?qe(t.bottomLeft):void 0,{borderRadius:i,borderTopLeftRadius:s,borderTopRightRadius:r,borderBottomRightRadius:c,borderBottomLeftRadius:d,...b}=e;return l&&o&&n&&a?{...b,...bt("borderRadius",l,o,n,a)}:{...b,...We({borderTopLeftRadius:l,borderTopRightRadius:o,borderBottomRightRadius:n,borderBottomLeftRadius:a})}}function mt(e,{sectionName:t,rowIndex:l}){const o=e.body[0].cells.length,n=yt(e),a={cells:Array.from({length:o}).map(((e,o)=>{const a=n.reduce(((e,t)=>e.concat(t.cells)),[]).filter((e=>e.sectionName===t&&e.rowIndex<l&&e.rowIndex+e.rowSpan-1>=l&&e.vColIndex<=o&&o<=e.vColIndex+e.colSpan-1));return{content:"",tag:"head"===t?"th":"td",rowSpan:1,colSpan:1,sectionName:t,rowIndex:l,vColIndex:o,isFirstSelected:!1,isHidden:!!a.length}}))};return{...e,[t]:[...e[t].slice(0,l),a,...e[t].slice(l).map((({cells:e})=>({cells:e.map((e=>({...e,rowIndex:e.rowIndex+1})))})))].map((({cells:e},o)=>({cells:e.map((e=>e.sectionName===t&&e.rowSpan>1&&o<=l&&o+e.rowSpan-1>=l?{...e,sectionName:t,rowIndex:o,rowSpan:e.rowSpan+1}:e))})))}}function gt(e,{sectionName:t,rowIndex:l}){const o=e[t][l].cells.filter((e=>e.rowSpan>1)).length;if(o)for(let n=0;n<o;n++){const o=e[t].reduce(((e,t)=>e.concat(t.cells)),[]).filter((e=>e.rowSpan>1&&e.rowIndex===l));o.length&&(e=wt(e,o[0]))}return{...e,[t]:e[t].reduce(((e,t,o)=>(o===l||e.push({cells:t.cells.map((e=>e.rowSpan>1&&o<l&&o+e.rowSpan-1>=l?{...e,rowSpan:e.rowSpan-1}:o>l?{...e,rowIndex:e.rowIndex-1}:e))}),e)),[])}}function ft(e,{vColIndex:t}){const l=e.body[0].cells.length===t,o=yt(e);return Object.entries(e).reduce(((e,[n,a])=>a.length?(e[n]=a.map((({cells:e},a)=>({cells:e.reduce(((e,i,s)=>{if(i.colSpan>1&&s<t&&s+i.colSpan-1>=t)return e.push({...i,colSpan:i.colSpan+1}),e;if(l&&s+1===t)return e.push(i,{content:"",tag:"head"===n?"th":"td",rowSpan:1,colSpan:1,sectionName:i.sectionName,rowIndex:i.rowIndex,vColIndex:t+1,isHidden:!1}),e;if(s===t){const l=o.reduce(((e,t)=>e.concat(t.cells)),[]).filter((e=>e.sectionName===n&&e.colSpan>1&&e.rowIndex<=a&&e.rowIndex+e.rowSpan-1>=a&&e.vColIndex<t&&t<=e.vColIndex+e.colSpan-1));return e.push({content:"",tag:"head"===n?"th":"td",rowSpan:1,colSpan:1,sectionName:i.sectionName,rowIndex:i.rowIndex,vColIndex:t,isHidden:!!l.length},{...i,vColIndex:t+1}),e}return t<=s?(e.push({...i,vColIndex:s+1}),e):(e.push(i),e)}),[])}))),e):e),{head:[],body:[],foot:[]})}function vt(e,{vColIndex:t}){const l=yt(e).reduce(((e,t)=>e.concat(t.cells)),[]).filter((e=>e.colSpan>1&&e.vColIndex===t));return l.length&&l.forEach((t=>e=wt(e,t))),Object.entries(e).reduce(((e,[l,o])=>o.length?(e[l]=o.map((({cells:e})=>({cells:e.reduce(((e,l)=>l.vColIndex===t?e:l.colSpan>1&&l.vColIndex<t&&l.vColIndex+l.colSpan-1>=t?(e.push({...l,colSpan:l.colSpan-1}),e):l.vColIndex>t?(e.push({...l,vColIndex:l.vColIndex-1}),e):(e.push(l),e)),[])}))),e):e),{head:[],body:[],foot:[]})}function wt(e,t){const{sectionName:l,rowIndex:o,vColIndex:n,rowSpan:a,colSpan:i}=t,s=e[l];if(s[o].cells[n]={...s[o].cells[n],rowSpan:1,colSpan:1},i>1)for(let e=1;e<i;e++)s[o].cells[n+e]={...s[o].cells[n],content:"",vColIndex:n+e,isHidden:!1};if(a>1)for(let e=1;e<a;e++)if(s[o+e].cells[n]={...s[o].cells[n],content:"",rowIndex:o+e,isHidden:!1},i>1)for(let t=1;t<i;t++)s[o+e].cells[n+t]={...s[o].cells[n],content:"",rowIndex:o+e,vColIndex:n+e,isHidden:!1};return{...e,[l]:s}}function Ct(e){return!e||!e.length||e.every((({cells:e})=>!(e&&e.length)))}function kt(e){const{head:t,body:l,foot:o}=e,n={head:t,body:l,foot:o};return Object.entries(n).reduce(((e,[t,l])=>{if(!l.length)return e;const o=l.length,n=l[0].cells.reduce(((e,t)=>e+Ke(t.colSpan,1)),0),a=Array.from({length:o}).map(((e,l)=>({cells:Array.from({length:n}).map(((e,o)=>({content:"",tag:"head"===t?"th":"td",rowSpan:1,colSpan:1,sectionName:t,isHidden:!1,isFilled:!1,rowIndex:l,vColIndex:o})))})));return l.forEach(((e,l)=>{e.cells.forEach((e=>{const o=a[l].cells.findIndex((({isFilled:e})=>!e)),n=Ke(e.rowSpan,1),i=Ke(e.colSpan,1);if(a[l].cells[o]={...e,isFilled:!0,sectionName:t,rowSpan:n,colSpan:i,rowIndex:l,vColIndex:o,isHidden:!1},i>1)for(let e=1;e<i;e++)a[l].cells[o+e].isFilled=!0,a[l].cells[o+e].isHidden=!0;if(n>1)for(let e=1;e<n;e++)if(a[l+e].cells[o].isFilled=!0,a[l+e].cells[o].isHidden=!0,i>1)for(let t=1;t<i;t++)a[l+e].cells[o+t].isFilled=!0,a[l+e].cells[o+t].isHidden=!0}))})),e[t]=a,e}),{head:[],body:[],foot:[]})}function jt(e){return Object.entries(e).reduce(((e,[t,l])=>l.length?(e[t]=l.map((({cells:e})=>({cells:e.filter((e=>!e.isHidden)).map((e=>({content:e.content,styles:e.styles,tag:e.tag,className:e.className,id:e.id,headers:e.headers,scope:e.scope,rowSpan:e.rowSpan>1?String(e.rowSpan):void 0,colSpan:e.colSpan>1?String(e.colSpan):void 0})))}))),e):e),{head:[],body:[],foot:[]})}function yt(e){return Object.keys(e).reduce(((t,l)=>(Ct(e[l])||t.push(...e[l]),t)),[])}function St(e){return e.reduce((({minRowIndex:e,maxRowIndex:t,minColIndex:l,maxColIndex:o},n)=>{const a=n.rowSpan>1?n.rowIndex+n.rowSpan-1:n.rowIndex,i=n.colSpan>1?n.vColIndex+n.colSpan-1:n.vColIndex;return{minRowIndex:e<n.rowIndex?e:n.rowIndex,maxRowIndex:t>a?t:a,minColIndex:l<n.vColIndex?l:n.vColIndex,maxColIndex:o>i?o:i}}),{minRowIndex:e[0].rowIndex,maxRowIndex:e[0].rowIndex,minColIndex:e[0].vColIndex,maxColIndex:e[0].vColIndex})}function It(e){if(!e)return!1;if(e.length<=1)return!1;if(function(e){return e.reduce(((e,t)=>(e.includes(t.sectionName)||e.push(t.sectionName),e)),[]).length>1}(e))return!1;const t=St(e),l=[];for(let e=t.minRowIndex;e<=t.maxRowIndex;e++){l[e]=[];for(let o=t.minColIndex;o<=t.maxColIndex;o++)l[e][o]=!1}return e.forEach((e=>{if(e.rowIndex in l&&e.vColIndex in l[e.rowIndex]){if(l[e.rowIndex][e.vColIndex]=!0,e.colSpan>1)for(let t=1;t<e.colSpan;t++)l[e.rowIndex][e.vColIndex+t]=!0;if(e.rowSpan>1)for(let t=1;t<e.rowSpan;t++)if(l[e.rowIndex+t][e.vColIndex]=!0,e.colSpan>1)for(let o=1;o<e.colSpan;o++)l[e.rowIndex+t][e.vColIndex+o]=!0}})),l.reduce(((e,t)=>e.concat(t)),[]).every((e=>e))}function Ht(e){return!!e&&e.some((({rowSpan:e,colSpan:t})=>e>1||t>1))}function Nt(e,t){if(!Ct(e[t]))return{...e,[t]:[]};const l=e.body[0].cells.length,o={cells:Array.from({length:l}).map(((e,l)=>({content:"",tag:"head"===t?"th":"td",rowSpan:1,colSpan:1,sectionName:t,rowIndex:0,vColIndex:l,isHidden:!1,isFirstSelected:!1})))};return{...e,[t]:[o]}}function Vt(e){if(e.padding){const t=$e(e.padding);return{top:t[0],right:t[1],bottom:t[2],left:t[3]}}return{top:e?.paddingTop||"",right:e?.paddingRight||"",bottom:e?.paddingBottom||"",left:e?.paddingLeft||""}}function Bt(e){if(e.borderWidth){const t=$e(e.borderWidth);return{top:t[0],right:t[1],bottom:t[2],left:t[3]}}return{top:e?.borderTopWidth||"",right:e?.borderRightWidth||"",bottom:e?.borderBottomWidth||"",left:e?.borderLeftWidth||""}}function Mt(e){if(e.borderColor){const t=$e(e.borderColor);return{top:t[0],right:t[1],bottom:t[2],left:t[3]}}return{top:e?.borderTopColor||"",right:e?.borderRightColor||"",bottom:e?.borderBottomColor||"",left:e?.borderLeftColor||""}}function Tt(e){if(e.borderStyle){const t=$e(e.borderStyle);return{top:t[0],right:t[1],bottom:t[2],left:t[3]}}return{top:e?.borderTopStyle||"",right:e?.borderRightStyle||"",bottom:e?.borderBottomStyle||"",left:e?.borderLeftStyle||""}}function zt(e){if(e.borderRadius){const t=$e(e.borderRadius);return{topLeft:t[0],topRight:t[1],bottomRight:t[2],bottomLeft:t[3]}}return{topLeft:e?.borderTopLeftRadius||"",topRight:e?.borderTopRightRadius||"",bottomRight:e?.borderBottomRightRadius||"",bottomLeft:e?.borderBottomLeftRadius||""}}function At(e){const t=$e(e.borderSpacing||"");return{horizontal:t[0],vertical:t[1]}}const Lt=[25,50,75,100];function Rt({attributes:e,setAttributes:t,vTable:l,setSelectedCells:n,setSelectedLine:a,tableStylesObj:i}){const{hasFixedLayout:s,isStackedOnMobile:r,isScrollOnPc:c,isScrollOnMobile:x,sticky:h,head:p,foot:u}=e,_=(0,d.useSelect)((e=>{const{getOptions:t}=e(M);return t()}),[]),m=(0,C.__experimentalUseCustomUnits)({availableUnits:Z}),g=(0,C.__experimentalUseCustomUnits)({availableUnits:P}),[f,v]=(0,C.__experimentalParseQuantityAndUnitFromRawValue)(i?.width),[w,k]=(0,C.__experimentalParseQuantityAndUnitFromRawValue)(i?.maxWidth),[j,y]=(0,C.__experimentalParseQuantityAndUnitFromRawValue)(i?.minWidth),S=e=>{const l={...i,width:e};t({tableStyles:dt(l)})},I=e=>{const l={...i,maxWidth:e};t({tableStyles:dt(l)})},H=e=>{const l={...i,minWidth:e};t({tableStyles:dt(l)})};return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(C.__experimentalSpacer,{marginBottom:"4",as:C.Flex,justify:"end",className:"ftb-table-settings-clear",children:(0,b.jsx)(C.Button,{variant:"link",isDestructive:!0,onClick:()=>{t({hasFixedLayout:!0,isScrollOnPc:!1,isScrollOnMobile:!1,isStackedOnMobile:!1,sticky:void 0,tableStyles:void 0})},children:(0,o.__)("Clear table settings","flexible-table-block")})}),(0,b.jsx)(C.ToggleControl,{className:"ftb-table-settings-header",label:(0,o.__)("Header section","flexible-table-block"),checked:!(!p||!p.length),onChange:()=>{const e=Nt(l,"head");t(jt(e)),n(void 0),a(void 0)},__nextHasNoMarginBottom:!0}),(0,b.jsx)(C.ToggleControl,{className:"ftb-table-settings-footer",label:(0,o.__)("Footer section","flexible-table-block"),checked:!(!u||!u.length),onChange:()=>{const e=Nt(l,"foot");t(jt(e)),n(void 0),a(void 0)},__nextHasNoMarginBottom:!0}),(0,b.jsx)("hr",{}),(0,b.jsx)(C.ToggleControl,{className:"ftb-table-settings-fixed-width",label:(0,o.__)("Fixed width table cells","flexible-table-block"),checked:!!s,onChange:()=>{t({hasFixedLayout:!s})},__nextHasNoMarginBottom:!0}),(0,b.jsx)(C.ToggleControl,{className:"ftb-table-settings-scroll-on-desktop",label:(0,o.__)("Scroll on desktop view","flexible-table-block"),checked:!!c,help:_.breakpoint&&(0,o.sprintf)(/* translators: %d is replaced with the number of breakpoint. */ /* translators: %d is replaced with the number of breakpoint. */
(0,o.__)("When the screen width is %dpx or more.","flexible-table-block"),Math.abs(_.breakpoint)+1),onChange:()=>{t({isScrollOnPc:!c})},__nextHasNoMarginBottom:!0}),(0,b.jsx)(C.ToggleControl,{className:"ftb-table-settings-scroll-on-mobile",label:(0,o.__)("Scroll on mobile view","flexible-table-block"),checked:!!x,help:_.breakpoint&&(0,o.sprintf)(/* translators: %d is replaced with the number of breakpoint. */ /* translators: %d is replaced with the number of breakpoint. */
(0,o.__)("When the screen width is %dpx or less.","flexible-table-block"),_.breakpoint),onChange:()=>{t({isScrollOnMobile:!x})},__nextHasNoMarginBottom:!0}),(0,b.jsx)(C.ToggleControl,{className:"ftb-table-settings-stack-on-mobile",label:(0,o.__)("Stack on mobile","flexible-table-block"),checked:!!r,help:_.breakpoint&&(0,o.sprintf)(/* translators: %d is replaced with the number of breakpoint. */ /* translators: %d is replaced with the number of breakpoint. */
(0,o.__)("When the screen width is %dpx or less.","flexible-table-block"),_.breakpoint),onChange:()=>{t({isStackedOnMobile:!r})},__nextHasNoMarginBottom:!0}),(0,b.jsx)(C.SelectControl,{className:"ftb-table-settings-fixed-control",label:(0,o.__)("Fixed control","flexible-table-block"),value:h,options:Q.map((({label:e,value:t})=>({label:e,value:t}))),help:r&&h&&(0,o.__)('Fixed control is only enabled for desktop view because "Stack on mobile" is enabled.',"flexible-table-block"),onChange:e=>{var l;l=e,(!e||Q.some((e=>e.value===l)))&&t({sticky:"none"===e?void 0:e})},size:"__unstable-large",__nextHasNoMarginBottom:!0}),(0,b.jsx)("hr",{}),(0,b.jsx)(C.__experimentalUnitControl,{className:"ftb-table-settings-width",label:(0,o.__)("Table width","flexible-table-block"),value:i?.width,units:m,disabled:"auto"===i?.width,min:0,onChange:S,size:"__unstable-large",__unstableInputWidth:"50%"}),(0,b.jsxs)(C.__experimentalToggleGroupControl,{__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0,hideLabelFromVision:!0,className:"ftb-table-settings-percentage-width",label:(0,o.__)("Table percentage width","flexible-table-block"),isBlock:!0,value:"auto"===i?.width||f&&Lt.includes(f)&&"%"===v?i?.width:void 0,onChange:e=>S(e),children:[Lt.map((e=>(0,b.jsx)(C.__experimentalToggleGroupControlOption,{label:`${e}%`,value:`${e}%`},e))),(0,b.jsx)(C.__experimentalToggleGroupControlOption,{label:(0,o._x)("auto","width","flexible-table-block"),value:"auto"})]}),(0,b.jsx)(C.__experimentalUnitControl,{className:"ftb-table-settings-max-width",label:(0,o.__)("Table max width","flexible-table-block"),value:i?.maxWidth,units:m,disabled:"none"===i?.maxWidth,min:0,onChange:I,size:"__unstable-large",__unstableInputWidth:"50%"}),(0,b.jsxs)(C.__experimentalToggleGroupControl,{__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0,hideLabelFromVision:!0,className:"ftb-table-settings-percentage-max-width",label:(0,o.__)("Table percentage max width","flexible-table-block"),isBlock:!0,value:"none"===i?.maxWidth||w&&Lt.includes(w)&&"%"===k?i?.maxWidth:void 0,onChange:e=>I(e),children:[Lt.map((e=>(0,b.jsx)(C.__experimentalToggleGroupControlOption,{label:`${e}%`,value:`${e}%`},e))),(0,b.jsx)(C.__experimentalToggleGroupControlOption,{label:(0,o._x)("none","width","flexible-table-block"),value:"none"})]}),(0,b.jsx)(C.__experimentalUnitControl,{className:"ftb-table-settings-min-width",label:(0,o.__)("Table min width","flexible-table-block"),value:i?.minWidth,units:m,min:0,onChange:H,size:"__unstable-large",__unstableInputWidth:"50%"}),(0,b.jsx)(C.__experimentalToggleGroupControl,{__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0,hideLabelFromVision:!0,className:"ftb-table-settings-percentage-min-width",label:(0,o.__)("Table percentage min width","flexible-table-block"),isBlock:!0,value:j&&Lt.includes(j)&&"%"===y?i?.minWidth:void 0,onChange:e=>H(e),children:Lt.map((e=>(0,b.jsx)(C.__experimentalToggleGroupControlOption,{label:`${e}%`,value:`${e}%`},e)))}),(0,b.jsx)(C.__experimentalUnitControl,{className:"ftb-table-settings-min-height",label:(0,o.__)("Table min height","flexible-table-block"),value:i?.minHeight,units:g,min:0,onChange:e=>{const l={...i,minHeight:e};t({tableStyles:dt(l)})},size:"__unstable-large",__unstableInputWidth:"50%"}),(0,b.jsx)("hr",{}),(0,b.jsx)(rt,{className:"ftb-table-settings-padding",label:(0,o.__)("Table padding","flexible-table-block"),help:(0,o.__)('Table padding is only enabled when "Cell Borders" is set to "Separate".',"flexible-table-block"),values:Vt(i),onChange:e=>{const l=xt(i,e);t({tableStyles:dt(l)})}}),(0,b.jsx)("hr",{}),(0,b.jsx)(Ye,{className:"ftb-table-settings-border-radius",label:(0,o.__)("Table border radius","flexible-table-block"),values:zt(i),onChange:e=>{const l=_t(i,e);t({tableStyles:dt(l)})}}),(0,b.jsx)(ot,{className:"ftb-table-settings-border-width",label:(0,o.__)("Table border width","flexible-table-block"),help:(0,o.__)('Table border width is only enabled when "Cell Borders" is set to "Separate".',"flexible-table-block"),values:Bt(i),onChange:e=>{const l=ht(i,e);t({tableStyles:dt(l)})}}),(0,b.jsx)(tt,{className:"ftb-table-settings-border-style",label:(0,o.__)("Table border style","flexible-table-block"),values:Tt(i),onChange:e=>{const l=pt(i,e);t({tableStyles:dt(l)})}}),(0,b.jsx)(De,{className:"ftb-table-settings-border-color",label:(0,o.__)("Table border color","flexible-table-block"),values:Mt(i),onChange:e=>{const l=ut(i,e);t({tableStyles:dt(l)})}}),(0,b.jsx)("hr",{}),(0,b.jsx)(C.__experimentalToggleGroupControl,{__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0,className:"ftb-table-settings-cell-borders",label:(0,o.__)("Cell borders","flexible-table-block"),value:i?.borderCollapse,isDeselectable:!0,onChange:e=>{if(l=e,!e||$.some((e=>e.value===l))){const l=i?.borderCollapse===e?void 0:e,o="separate"===l?i?.borderSpacing:void 0,n={...i,borderCollapse:l,borderSpacing:o};t({tableStyles:dt(n)})}var l},children:$.map((({icon:e,label:t,value:l})=>(0,b.jsx)(C.__experimentalToggleGroupControlOptionIcon,{label:t,value:l,icon:e},l)))}),"separate"===i?.borderCollapse&&(0,b.jsx)(at,{label:(0,o.__)("Border spacing","flexible-table-block"),values:At(i),onChange:e=>{const l=function(e,t){if(!t)return e;const{borderSpacing:l,...o}=e,n=t.horizontal?qe(t.horizontal):void 0,a=t.vertical?qe(t.vertical):void 0;return void 0===n&&void 0===a?o:n===a?{...o,borderSpacing:n}:{...o,borderSpacing:`${n} ${a}`}}(i,e);t({tableStyles:dt(l)})}})]})}function Zt({attributes:e,setAttributes:t,captionStylesObj:l}){const{captionSide:n}=e,a=(0,C.__experimentalUseCustomUnits)({availableUnits:R});return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(C.__experimentalSpacer,{marginBottom:"4",as:C.Flex,justify:"end",className:"ftb-table-caption-settings-clear",children:(0,b.jsx)(C.Button,{variant:"link",isDestructive:!0,onClick:()=>{t({captionSide:"bottom",captionStyles:void 0})},children:(0,o.__)("Clear caption settings","flexible-table-block")})}),(0,b.jsxs)(C.__experimentalSpacer,{marginBottom:"4",as:C.Flex,align:"end",children:[(0,b.jsx)(C.FlexBlock,{className:"ftb-table-caption-settings-font-size",children:(0,b.jsx)(C.__experimentalUnitControl,{label:(0,o.__)("Caption font size","flexible-table-block"),value:l?.fontSize,units:a,min:0,onChange:e=>{const o={...l,fontSize:qe(e)};t({captionStyles:dt(o)})},size:"__unstable-large"})}),(0,b.jsx)(C.FlexBlock,{className:"ftb-table-caption-settings-line-height",children:(0,b.jsx)(C.TextControl,{label:(0,o.__)("Caption line height","flexible-table-block"),autoComplete:"off",onChange:e=>{const o={...l,lineHeight:e};t({captionStyles:dt(o)})},step:.1,type:"number",value:l?.lineHeight||"",min:0,__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0})})]}),(0,b.jsx)(rt,{className:"ftb-table-caption-settings-padding",label:(0,o.__)("Caption padding","flexible-table-block"),values:Vt(l),onChange:e=>{const o=xt(l,e);t({captionStyles:dt(o)})}}),(0,b.jsx)(C.__experimentalToggleGroupControl,{__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0,className:"ftb-table-caption-settings-position",label:(0,o.__)("Caption position","flexible-table-block"),value:n,isBlock:!0,onChange:e=>{var l;l=e,ee.some((e=>e.value===l))&&t({captionSide:e})},children:ee.map((({label:e,value:t})=>(0,b.jsx)(C.__experimentalToggleGroupControlOption,{value:t,label:e},t)))}),(0,b.jsx)(C.__experimentalToggleGroupControl,{__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0,className:"ftb-table-caption-settings-text-alignment",label:(0,o.__)("Caption text alignment","flexible-table-block"),value:l?.textAlign,isDeselectable:!0,onChange:e=>{if(o=e,!e||J.some((e=>e.value===o))){const o={...l,textAlign:e===l.textAlign?void 0:e};t({captionStyles:dt(o)})}var o},children:J.map((({icon:e,label:t,value:l})=>(0,b.jsx)(C.__experimentalToggleGroupControlOptionIcon,{value:l,icon:e,label:t},l)))})]})}const Pt=[25,50,75,100];function Ot({setAttributes:e,vTable:t,selectedCells:l=[]}){const n=(0,C.__experimentalUseCustomUnits)({availableUnits:O}),a=(0,C.__experimentalUseCustomUnits)({availableUnits:R});if(!l.length)return null;const{sectionName:i,rowIndex:s,vColIndex:r}=l[0],c=t[i][s].cells[r];if(!c)return null;const d=l.reduce(((e,l)=>{const{tag:o}=t[l.sectionName][l.rowIndex].cells[l.vColIndex];return e.includes(o)||e.push(o),e}),[]),x=ct(c.styles),[h,p]=(0,C.__experimentalParseQuantityAndUnitFromRawValue)(x?.width),u=o=>{const n=function(e,t,l){return Object.entries(e).reduce(((e,[o,n])=>n.length?(e[o]=n.map((({cells:e},n)=>({cells:e.map(((e,a)=>{if(!l.some((e=>e.sectionName===o&&e.rowIndex===n&&e.vColIndex===a)))return e;let i=ct(e?.styles);return t.styles&&(i={...i,...t.styles},i=xt(i,t.styles?.padding),i=ht(i,t.styles?.borderWidth),i=_t(i,t.styles?.borderRadius),i=pt(i,t.styles?.borderStyle),i=ut(i,t.styles?.borderColor)),{...e,styles:dt(i),tag:t.tag||e.tag,className:"className"in t?t.className:e.className,id:"id"in t?t.id:e.id,headers:"headers"in t?t.headers:e.headers,scope:"scope"in t?t.scope:e.scope}}),[])}))),e):e),{head:[],body:[],foot:[]})}(t,o,l);e(jt(n))},_=e=>{u({styles:{width:qe(e)}})};return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(C.__experimentalSpacer,{marginBottom:"4",as:C.Flex,justify:"end",className:"ftb-table-cell-settings-clear",children:(0,b.jsx)(C.Button,{variant:"link",isDestructive:!0,onClick:()=>{u({styles:{fontSize:void 0,lineHeight:void 0,width:void 0,color:void 0,backgroundColor:void 0,padding:{top:void 0,right:void 0,bottom:void 0,left:void 0},borderRadius:{topLeft:void 0,topRight:void 0,bottomRight:void 0,bottomLeft:void 0},borderWidth:{top:void 0,right:void 0,bottom:void 0,left:void 0},borderStyle:{top:void 0,right:void 0,bottom:void 0,left:void 0},borderColor:{top:void 0,right:void 0,bottom:void 0,left:void 0},textAlign:void 0,verticalAlign:void 0},className:void 0,id:void 0,headers:void 0,scope:void 0})},children:(0,o.__)("Clear cell settings","flexible-table-block")})}),(0,b.jsxs)(C.__experimentalSpacer,{marginBottom:"4",as:C.Flex,children:[(0,b.jsx)(C.FlexBlock,{className:"ftb-table-cell-settings-font-size",children:(0,b.jsx)(C.__experimentalUnitControl,{label:(0,o.__)("Cell font size","flexible-table-block"),value:x?.fontSize,units:a,min:0,onChange:e=>{u({styles:{fontSize:qe(e)}})},size:"__unstable-large"})}),(0,b.jsx)(C.FlexBlock,{className:"ftb-table-cell-settings-line-height",children:(0,b.jsx)(C.TextControl,{label:(0,o.__)("Cell line height","flexible-table-block"),value:x?.lineHeight||"",autoComplete:"off",type:"number",step:.1,min:0,onChange:e=>{u({styles:{lineHeight:e}})},__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0})})]}),(0,b.jsx)(C.__experimentalUnitControl,{className:"ftb-table-cell-settings-width",label:(0,o.__)("Cell width","flexible-table-block"),value:x?.width,units:n,min:0,onChange:_,size:"__unstable-large",__unstableInputWidth:"calc(50% - 8px)"}),(0,b.jsx)(C.__experimentalToggleGroupControl,{className:"ftb-table-cell-settings-percentage-width",__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0,hideLabelFromVision:!0,label:(0,o.__)("Cell percentage width","flexible-table-block"),isBlock:!0,value:h&&Pt.includes(h)&&"%"===p?x?.width:void 0,onChange:e=>_(e),children:Pt.map((e=>(0,b.jsx)(C.__experimentalToggleGroupControlOption,{label:`${e}%`,value:`${e}%`},e)))}),(0,b.jsx)("hr",{}),(0,b.jsx)(it,{className:"ftb-table-cell-settings-text-color",label:(0,o.__)("Cell text color","flexible-table-block"),value:x.color,onChange:e=>{u({styles:{color:e}})}}),(0,b.jsx)(it,{className:"ftb-table-cell-settings-background-color",label:(0,o.__)("Cell background color","flexible-table-block"),value:x.backgroundColor,colors:[{name:(0,o.__)("Transparent","flexible-table-block"),slug:"transparent",color:"transparent"}],onChange:e=>{u({styles:{backgroundColor:e}})}}),(0,b.jsx)("hr",{}),(0,b.jsx)(rt,{className:"ftb-table-cell-settings-padding",label:(0,o.__)("Cell padding","flexible-table-block"),values:Vt(x),onChange:e=>{u({styles:{padding:e}})}}),(0,b.jsx)("hr",{}),(0,b.jsx)(Ye,{className:"ftb-table-cell-settings-border-radius",label:(0,o.__)("Cell border radius","flexible-table-block"),values:zt(x),onChange:e=>{u({styles:{borderRadius:e}})}}),(0,b.jsx)(ot,{className:"ftb-table-cell-settings-border-width",label:(0,o.__)("Cell border width","flexible-table-block"),values:Bt(x),onChange:e=>{u({styles:{borderWidth:e}})}}),(0,b.jsx)(tt,{className:"ftb-table-cell-settings-border-style",label:(0,o.__)("Cell border style","flexible-table-block"),values:Tt(x),onChange:e=>{u({styles:{borderStyle:e}})}}),(0,b.jsx)(De,{className:"ftb-table-cell-settings-border-color",label:(0,o.__)("Cell border color","flexible-table-block"),values:Mt(x),onChange:e=>{u({styles:{borderColor:e}})}}),(0,b.jsx)("hr",{}),(0,b.jsxs)("fieldset",{className:"ftb-table-cell-settings-alignment",children:[(0,b.jsx)(C.BaseControl.VisualLabel,{as:"legend",children:(0,o.__)("Cell alignment","flexible-table-block")}),(0,b.jsxs)(C.Flex,{style:{marginBottom:"-16px"},justify:"start",align:"start",children:[(0,b.jsx)(C.__experimentalToggleGroupControl,{hideLabelFromVision:!0,__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0,label:(0,o.__)("Text alignment","flexible-table-block"),value:x?.textAlign,isDeselectable:!0,onChange:e=>{u({styles:{textAlign:e===x.textAlign?void 0:e}})},children:J.map((({icon:e,label:t,value:l})=>(0,b.jsx)(C.__experimentalToggleGroupControlOptionIcon,{value:l,icon:e,label:t},l)))}),(0,b.jsx)(C.__experimentalToggleGroupControl,{hideLabelFromVision:!0,__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0,label:(0,o.__)("Vertical alignment","flexible-table-block"),value:x?.verticalAlign,isDeselectable:!0,onChange:e=>{u({styles:{verticalAlign:e===x.verticalAlign?void 0:e}})},children:K.map((({icon:e,label:t,value:l})=>(0,b.jsx)(C.__experimentalToggleGroupControlOptionIcon,{value:l,icon:e,label:t},l)))})]})]}),(0,b.jsx)("hr",{}),(0,b.jsx)(C.__experimentalToggleGroupControl,{className:"ftb-table-cell-settings-tag",__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0,label:(0,o.__)("Cell tag","flexible-table-block"),value:c.tag,isBlock:!0,onChange:e=>{var t;t=e,X.some((e=>e.value===t))&&u({tag:e,id:void 0,headers:void 0,scope:void 0})},children:X.map((({label:e,value:t})=>(0,b.jsx)(C.__experimentalToggleGroupControlOption,{value:t,label:e},t)))}),(0,b.jsx)(C.TextControl,{className:"ftb-table-cell-settings-custom-class",label:(0,o.__)("Cell CSS class(es)","flexible-table-block"),autoComplete:"off",value:c.className||"",onChange:e=>{u({className:""!==e?e:void 0})},help:(0,o.__)("Separate multiple classes with spaces.","flexible-table-block"),__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0}),1===d.length&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("hr",{}),d.includes("th")&&(0,b.jsx)(C.TextControl,{className:"ftb-table-cell-settings-id",label:(0,pe.createInterpolateElement)((0,o.__)("<code>id</code> attribute","flexible-table-block"),{code:(0,b.jsx)("code",{})}),autoComplete:"off",value:c.id||"",onChange:e=>{u({id:""!==e?e:void 0})},__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0}),(0,b.jsx)(C.TextControl,{className:"ftb-table-cell-settings-headers",label:(0,pe.createInterpolateElement)((0,o.__)("<code>headers</code> attribute","flexible-table-block"),{code:(0,b.jsx)("code",{})}),autoComplete:"off",value:c.headers||"",onChange:e=>{u({headers:""!==e?e:void 0})},__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0}),d.includes("th")&&(0,b.jsx)(C.SelectControl,{className:"ftb-table-cell-settings-scope",label:(0,pe.createInterpolateElement)((0,o.__)("<code>scope</code> attribute","flexible-table-block"),{code:(0,b.jsx)("code",{})}),value:c.scope,options:Y.map((({label:e,value:t})=>({label:e,value:t}))),onChange:e=>(e=>{u({scope:"none"===e?void 0:e})})(e),size:"__unstable-large",__nextHasNoMarginBottom:!0})]})]})}const Gt=window.wp.coreData;var Ft=(0,b.jsx)(x.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,b.jsx)(x.Path,{d:"M12 4a8 8 0 1 1 .001 16.001A8 8 0 0 1 12 4Zm0 1.5a6.5 6.5 0 1 0-.001 13.001A6.5 6.5 0 0 0 12 5.5Zm.75 11h-1.5V15h1.5v1.5Zm-.445-9.234a3 3 0 0 1 .445 5.89V14h-1.5v-1.25c0-.57.452-.958.917-1.01A1.5 1.5 0 0 0 12 8.75a1.5 1.5 0 0 0-1.5 1.5H9a3 3 0 0 1 3.305-2.984Z"})});const Dt=window.wp.keycodes;function Et({setIsHelpModalOpen:e}){return(0,b.jsx)(C.Modal,{title:(0,o.__)("Flexible Table Block help","flexible-table-block"),onRequestClose:()=>e(!1),size:"medium",children:(0,b.jsxs)(C.__experimentalVStack,{spacing:4,children:[(0,b.jsxs)(C.__experimentalVStack,{children:[(0,b.jsx)(C.__experimentalHeading,{level:5,children:(0,o.__)("About default table style","flexible-table-block")}),(0,b.jsx)(C.__experimentalText,{as:"p",children:(0,o.__)('Flexible Table Block is a block that allows you to create tables in various styles. First of all, it is recommended to set the default style of the table from "Global Setting".',"flexible-table-block")})]}),(0,b.jsxs)(C.__experimentalVStack,{children:[(0,b.jsx)(C.__experimentalHeading,{level:5,children:(0,o.__)("Select multiple cells","flexible-table-block")}),(0,b.jsx)(C.__experimentalText,{as:"p",children:(0,pe.createInterpolateElement)((0,Dt.isAppleOS)()?(0,o.__)("Hold <code>Command</code> key to select multiple cells. Hold <code>Shift</code> key to select the range. Selecting multiple cells is used to merge cells or to change styles of multiple cells.","flexible-table-block"):(0,o.__)("Hold <code>Ctrl</code> key to select multiple cells. Hold <code>Shift</code> key to select the range. Selecting multiple cells is used to merge cells or to change styles of multiple cells.","flexible-table-block"),{code:(0,b.jsx)("code",{})})})]}),(0,b.jsxs)(C.__experimentalVStack,{children:[(0,b.jsx)(C.__experimentalHeading,{level:5,children:(0,o.__)("About scroll table","flexible-table-block")}),(0,b.jsx)(C.__experimentalText,{as:"p",children:(0,o.__)('If table scrolling is enabled, set "Table Width" or "Table Min Width" larger than the content width.',"flexible-table-block")})]}),(0,b.jsxs)(C.__experimentalVStack,{children:[(0,b.jsx)(C.__experimentalHeading,{level:5,children:(0,o.__)("About accessibility","flexible-table-block")}),(0,b.jsx)(C.__experimentalText,{as:"p",children:(0,pe.createInterpolateElement)((0,o.__)("You can tell screenreaders exactly by properly defining <code>id</code>, <code>headers</code>, and <code>scope</code> attributes for each cell.","flexible-table-block"),{code:(0,b.jsx)("code",{})})}),(0,b.jsx)(C.__experimentalText,{as:"p",children:(0,pe.createInterpolateElement)((0,o.__)("Refer to <Link>this page</Link> for the specifications of each attribute.","flexible-table-block"),{Link:(0,b.jsx)(C.ExternalLink,{href:(0,o.__)("https://developer.mozilla.org/en-US/docs/Learn/HTML/Tables/Advanced","flexible-table-block")})})})]})]})})}var Ut=(0,b.jsx)(x.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,b.jsx)(x.Path,{d:"M15 4H9c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h6c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm.5 14c0 .3-.2.5-.5.5H9c-.3 0-.5-.2-.5-.5V6c0-.3.2-.5.5-.5h6c.3 0 .5.2.5.5v12zm-4.5-.5h2V16h-2v1.5z"})}),Wt=(0,b.jsx)(x.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,b.jsx)(x.Path,{d:"M20.5 16h-.7V8c0-1.1-.9-2-2-2H6.2c-1.1 0-2 .9-2 2v8h-.7c-.8 0-1.5.7-1.5 1.5h20c0-.8-.7-1.5-1.5-1.5zM5.7 8c0-.3.2-.5.5-.5h11.6c.3 0 .5.2.5.5v7.6H5.7V8z"})});function $t({options:e,isAdministrator:t,setIsSettingModalOpen:l}){const[n,a]=(0,pe.useState)(void 0),[i,s]=(0,pe.useState)(!1),[r,x]=(0,pe.useState)(!1),[h,p]=(0,pe.useState)(e),{setOptions:u}=(0,d.useDispatch)(M),_=(0,C.__experimentalUseCustomUnits)({availableUnits:Z});function m(){const e=document.querySelector(".ftb-global-setting-modal");e&&e.focus()}function g(e){const t=document.getElementById("flexible-table-block-editor-inline-css");t&&(t.textContent=e);const l=document.querySelectorAll("iframe");for(let t=0;t<l.length;t++){const o=l[t].contentWindow;if(!o)continue;const n=o.document.getElementById("flexible-table-block-editor-inline-css");n&&(n.textContent=e)}}return(0,b.jsxs)(C.Modal,{title:(0,o.__)("Flexible Table Block Global setting","flexible-table-block"),className:"ftb-global-setting-modal",onRequestClose:()=>l(!1),size:"large",children:[r&&(0,b.jsx)(C.__experimentalHStack,{justify:"center",className:"ftb-global-setting-modal__loading",children:(0,b.jsx)(C.Spinner,{})}),(0,b.jsx)(C.TabPanel,{className:"ftb-global-setting-modal__tab-panel",orientation:"vertical",tabs:[{name:"table",title:(0,o.__)("Table styles","flexible-table-block")},{name:"cell",title:(0,o.__)("Cell styles","flexible-table-block")},{name:"responsive",title:(0,o.__)("Responsive setting","flexible-table-block")},{name:"options",title:(0,o.__)("Editor options","flexible-table-block")}],children:({name:e})=>(0,b.jsxs)(C.__experimentalSpacer,{marginBottom:22,children:["table"===e&&(0,b.jsxs)(C.__experimentalVStack,{spacing:4,children:[(0,b.jsx)(C.__experimentalHeading,{level:5,children:(0,o.__)("Default table styles","flexible-table-block")}),(0,b.jsxs)(C.Flex,{wrap:!0,align:"stretch",children:[(0,b.jsx)(C.__experimentalSpacer,{padding:2,marginBottom:0,className:"ftb-global-setting-modal__styles-item",children:(0,b.jsx)(C.__experimentalUnitControl,{label:(0,o.__)("Table width","flexible-table-block"),units:_,value:h.block_style?.table_width,min:0,onChange:e=>{p({...h,block_style:{...h.block_style,table_width:qe(e)}})},size:"__unstable-large",__unstableInputWidth:"100px"})}),(0,b.jsx)(C.__experimentalSpacer,{padding:2,marginBottom:0,className:"ftb-global-setting-modal__styles-item",children:(0,b.jsx)(C.__experimentalUnitControl,{label:(0,o.__)("Table max width","flexible-table-block"),units:_,value:h.block_style?.table_max_width,min:0,onChange:e=>{p({...h,block_style:{...h.block_style,table_max_width:qe(e)}})},size:"__unstable-large",__unstableInputWidth:"100px"})}),(0,b.jsx)(C.__experimentalSpacer,{padding:2,marginBottom:0,className:"ftb-global-setting-modal__styles-item",children:(0,b.jsx)(C.__experimentalToggleGroupControl,{__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0,label:(0,o.__)("Cell borders","flexible-table-block"),value:h.block_style?.table_border_collapse,isDeselectable:!0,onChange:e=>{if(t=e,!e||$.some((e=>e.value===t))){const t=h?.block_style?.table_border_collapse===e?void 0:e;p({...h,block_style:{...h.block_style,table_border_collapse:t}})}var t},children:$.map((({icon:e,label:t,value:l})=>(0,b.jsx)(C.__experimentalToggleGroupControlOptionIcon,{value:l,icon:e,label:t},l)))})})]}),(0,b.jsx)(C.__experimentalHeading,{level:5,children:(0,o.__)("Default striped table styles","flexible-table-block")}),(0,b.jsxs)(C.Flex,{wrap:!0,align:"stretch",children:[(0,b.jsx)(C.__experimentalSpacer,{padding:2,marginBottom:0,className:"ftb-global-setting-modal__styles-item",children:(0,b.jsx)(it,{label:(0,o.__)("Striped style background color ( odd rows )","flexible-table-block"),value:h.block_style?.row_odd_color,onChange:e=>{p({...h,block_style:{...h.block_style,row_odd_color:e}})}})}),(0,b.jsx)(C.__experimentalSpacer,{padding:2,marginBottom:0,className:"ftb-global-setting-modal__styles-item",children:(0,b.jsx)(it,{label:(0,o.__)("Striped style background color ( even rows )","flexible-table-block"),value:h.block_style?.row_even_color,onChange:e=>{p({...h,block_style:{...h.block_style,row_even_color:e}})}})})]})]}),"cell"===e&&(0,b.jsxs)(C.__experimentalVStack,{spacing:4,children:[(0,b.jsx)(C.__experimentalHeading,{level:5,children:(0,o.__)("Default cell styles","flexible-table-block")}),(0,b.jsxs)(C.Flex,{wrap:!0,align:"stretch",children:[(0,b.jsx)(C.__experimentalSpacer,{padding:2,marginBottom:0,className:"ftb-global-setting-modal__styles-item",children:(0,b.jsx)(it,{label:(0,pe.createInterpolateElement)((0,o.__)("Cell text color ( <code>th</code> tag )","flexible-table-block"),{code:(0,b.jsx)("code",{})}),value:h.block_style?.cell_text_color_th,onChange:e=>{p({...h,block_style:{...h.block_style,cell_text_color_th:e}})}})}),(0,b.jsx)(C.__experimentalSpacer,{padding:2,marginBottom:0,className:"ftb-global-setting-modal__styles-item",children:(0,b.jsx)(it,{label:(0,pe.createInterpolateElement)((0,o.__)("Cell text color ( <code>td</code> tag )","flexible-table-block"),{code:(0,b.jsx)("code",{})}),value:h.block_style?.cell_text_color_td,onChange:e=>{p({...h,block_style:{...h.block_style,cell_text_color_td:e}})}})}),(0,b.jsx)(C.__experimentalSpacer,{padding:2,marginBottom:0,className:"ftb-global-setting-modal__styles-item",children:(0,b.jsx)(it,{label:(0,pe.createInterpolateElement)((0,o.__)("Cell background color ( <code>th</code> tag )","flexible-table-block"),{code:(0,b.jsx)("code",{})}),value:h.block_style?.cell_background_color_th,onChange:e=>{p({...h,block_style:{...h.block_style,cell_background_color_th:e}})}})}),(0,b.jsx)(C.__experimentalSpacer,{padding:2,marginBottom:0,className:"ftb-global-setting-modal__styles-item",children:(0,b.jsx)(it,{label:(0,pe.createInterpolateElement)((0,o.__)("Cell background color ( <code>td</code> tag )","flexible-table-block"),{code:(0,b.jsx)("code",{})}),value:h.block_style?.cell_background_color_td,onChange:e=>{p({...h,block_style:{...h.block_style,cell_background_color_td:e}})}})}),(0,b.jsx)(C.__experimentalSpacer,{padding:2,marginBottom:0,className:"ftb-global-setting-modal__styles-item",children:(0,b.jsx)(rt,{label:(0,o.__)("Cell padding","flexible-table-block"),values:h?.block_style.cell_padding||{},onChange:e=>{p({...h,block_style:{...h.block_style,cell_padding:We(e)}})}})}),(0,b.jsx)(C.__experimentalSpacer,{padding:2,marginBottom:0,className:"ftb-global-setting-modal__styles-item",children:(0,b.jsx)(ot,{label:(0,o.__)("Cell border width","flexible-table-block"),values:{top:h.block_style?.cell_border_width},allowSides:!1,hasIndicator:!1,onChange:e=>{p({...h,block_style:{...h.block_style,cell_border_width:qe(e.top)}})}})}),(0,b.jsx)(C.__experimentalSpacer,{padding:2,marginBottom:0,className:"ftb-global-setting-modal__styles-item",children:(0,b.jsx)(tt,{label:(0,o.__)("Cell border style","flexible-table-block"),values:{top:h.block_style?.cell_border_style},allowSides:!1,hasIndicator:!1,onChange:e=>{const t=h?.block_style?.cell_border_style===e.top?void 0:e.top;p({...h,block_style:{...h.block_style,cell_border_style:t}})}})}),(0,b.jsx)(C.__experimentalSpacer,{padding:2,marginBottom:0,className:"ftb-global-setting-modal__styles-item",children:(0,b.jsx)(it,{label:(0,o.__)("Cell border color","flexible-table-block"),value:h.block_style?.cell_border_color,onChange:e=>{p({...h,block_style:{...h.block_style,cell_border_color:e}})}})}),(0,b.jsx)(C.__experimentalSpacer,{padding:2,marginBottom:0,className:"ftb-global-setting-modal__styles-item",children:(0,b.jsx)(C.__experimentalToggleGroupControl,{__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0,label:(0,o.__)("Cell text alignment","flexible-table-block"),value:h.block_style?.cell_text_align,isDeselectable:!0,onChange:e=>{if("string"!=typeof e&&void 0!==e)return;const t=h?.block_style?.cell_text_align===e?void 0:e;p({...h,block_style:{...h.block_style,cell_text_align:t}})},children:J.map((({icon:e,label:t,value:l})=>(0,b.jsx)(C.__experimentalToggleGroupControlOptionIcon,{value:l,icon:e,label:t},l)))})}),(0,b.jsx)(C.__experimentalSpacer,{padding:2,marginBottom:0,className:"ftb-global-setting-modal__styles-item",children:(0,b.jsx)(C.__experimentalToggleGroupControl,{__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0,label:(0,o.__)("Cell vertical alignment","flexible-table-block"),value:h.block_style?.cell_vertical_align,isDeselectable:!0,onChange:e=>{if("string"!=typeof e&&void 0!==e)return;const t=h?.block_style?.cell_vertical_align===e?void 0:e;p({...h,block_style:{...h.block_style,cell_vertical_align:t}})},children:K.map((({icon:e,label:t,value:l})=>(0,b.jsx)(C.__experimentalToggleGroupControlOptionIcon,{value:l,icon:e,label:t},l)))})})]})]}),"responsive"===e&&(0,b.jsxs)(C.__experimentalVStack,{spacing:4,children:[(0,b.jsx)(C.__experimentalHeading,{level:5,children:(0,o.__)("Responsive breakpoint (px)","flexible-table-block")}),(0,b.jsx)(C.RangeControl,{help:(0,o.__)("Set the screen width (breakpoint) as the basis for switching between desktop and mobile devices.","flexible-table-block"),beforeIcon:Ut,afterIcon:Wt,min:200,max:1200,value:h.breakpoint?Number(h.breakpoint):768,allowReset:!0,onChange:e=>{p({...h,breakpoint:e||768})},__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0})]}),"options"===e&&(0,b.jsxs)(C.__experimentalVStack,{spacing:4,children:[(0,b.jsx)(C.ToggleControl,{label:(0,o.__)("Show section labels","flexible-table-block"),help:(0,o.__)("Show section labels in the upper left corner of the table header, table body, and table footer sections.","flexible-table-block"),checked:!!h.show_label_on_section,onChange:e=>{p({...h,show_label_on_section:e})},__nextHasNoMarginBottom:!0}),(0,b.jsx)(C.ToggleControl,{label:(0,o.__)("Show control buttons","flexible-table-block"),help:(0,o.__)("Show insert row/column and select row/column buttons.","flexible-table-block"),checked:!!h.show_control_button,onChange:e=>{p({...h,show_control_button:e})},__nextHasNoMarginBottom:!0}),(h.show_label_on_section||h.show_control_button)&&(0,b.jsx)(C.ToggleControl,{label:(0,o.__)("Focus on the control button with the cursor movement keys","flexible-table-block"),help:(0,o.__)("Focus insert/select buttons, select row/column buttons, and section labels with the cursor movement keys.","flexible-table-block"),checked:!!h.focus_control_button,onChange:e=>{p({...h,focus_control_button:e})},__nextHasNoMarginBottom:!0}),(0,b.jsx)(C.ToggleControl,{label:(0,o.__)("Show dot on th tag","flexible-table-block"),help:(0,o.__)("Show a small dot in the upper right corner of a cell when the cell is th element.","flexible-table-block"),checked:!!h.show_dot_on_th,onChange:e=>{p({...h,show_dot_on_th:e})},__nextHasNoMarginBottom:!0}),(0,b.jsx)(C.ToggleControl,{label:(0,o.__)("Use the tab key to move cells","flexible-table-block"),help:(0,o.__)("Pressing the tab key moves the focus to the next cell. Holding down the shift key moves the focus to the previous cell.","flexible-table-block"),checked:!!h.tab_move,onChange:e=>{p({...h,tab_move:e})},__nextHasNoMarginBottom:!0}),(0,b.jsx)(C.ToggleControl,{label:(0,o.__)("Keep all contents when merging cells","flexible-table-block"),help:(0,o.__)("If turned off, only the contents of the first cell will remain when the cells are merged.","flexible-table-block"),checked:!!h.merge_content,onChange:e=>{p({...h,merge_content:e})},__nextHasNoMarginBottom:!0}),t&&(0,b.jsx)(C.ToggleControl,{label:(0,o.__)("Show Global setting button to non-administrative users","flexible-table-block"),help:(0,o.__)("By turning it on, you can prevent non-administrative users from changing Global setting.","flexible-table-block"),checked:!!h.show_global_setting,onChange:e=>{p({...h,show_global_setting:e})},__nextHasNoMarginBottom:!0})]})]})}),n?.status&&n?.message&&(0,b.jsx)(C.Notice,{className:"ftb-global-setting-modal__notice",status:n.status,onRemove:()=>{a(void 0),m()},children:n.message}),(0,b.jsxs)(C.__experimentalSpacer,{as:C.__experimentalHStack,marginBottom:0,paddingX:6,className:"ftb-global-setting-modal__buttons",children:[(0,b.jsx)(C.Button,{variant:"primary",disabled:r,onClick:()=>{x(!0),a(void 0),u(h),c()({path:T,method:"POST",data:h}).then((e=>{m(),x(!1),e.status&&e.message&&a({status:e?.status,message:e?.message}),e.block_css&&g(e.block_css)})).catch((e=>{m(),x(!1),a({status:"error",message:e.message})}))},__next40pxDefaultSize:!0,children:(0,o.__)("Save settings","flexible-table-block")}),(0,b.jsxs)(C.Button,{isDestructive:!0,disabled:r,onClick:()=>s(!i),__next40pxDefaultSize:!0,children:[(0,o.__)("Restore default settings","flexible-table-block"),i&&(0,b.jsx)(C.Popover,{className:"ftb-global-setting-modal__confirm-popover",focusOnMount:"firstElement",placement:"top",onClose:()=>s(!1),children:(0,b.jsxs)(C.__experimentalSpacer,{as:C.__experimentalVStack,marginBottom:0,padding:2,spacing:4,children:[(0,b.jsx)(C.__experimentalText,{as:"p",children:(0,o.__)("Are you sure?","flexible-table-block")}),(0,b.jsxs)(C.__experimentalHStack,{children:[(0,b.jsx)(C.Button,{isDestructive:!0,onClick:()=>{x(!0),a(void 0),c()({path:T,method:"DELETE"}).then((e=>{m(),x(!1),e.status&&e.message&&a({status:e.status,message:e.message}),e.options&&(p(e.options),u(e.options)),e.block_css&&g(e.block_css)}))},size:"compact",children:(0,o.__)("Restore","flexible-table-block")}),(0,b.jsx)(C.Button,{variant:"secondary",onClick:()=>s(!1),size:"compact",children:(0,o.__)("Cancel","flexible-table-block")})]})]})})]})]})]})}function qt(){const e=(0,d.useSelect)((e=>e(M).getOptions()),[]),t=(0,d.useSelect)((e=>e(Gt.store).canUser("create","users")),[]),[l,n]=(0,pe.useState)(!1),[a,i]=(0,pe.useState)(!1),[s,r]=(0,pe.useState)();(0,pe.useEffect)((()=>{r(e)}),[e]);const c=void 0!==t&&void 0!==s,x=t||s?.show_global_setting;return(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(C.PanelBody,{title:(0,o.__)("Global setting","flexible-table-block"),initialOpen:!1,className:"flexible-table-block-global-setting-panel",children:(0,b.jsxs)(C.__experimentalHStack,{children:[!c&&(0,b.jsx)(C.Spinner,{}),c&&x&&(0,b.jsx)(C.Button,{variant:"primary",onClick:()=>n(!0),size:"compact",children:(0,o.__)("Edit global setting","flexible-table-block")}),(0,b.jsx)(C.Button,{icon:Ft,variant:"link",onClick:()=>i(!0),label:(0,o.__)("Help","flexible-table-block"),size:"compact"})]})}),a&&(0,b.jsx)(Et,{setIsHelpModalOpen:i}),s&&l&&(t||s?.show_global_setting)&&(0,b.jsx)($t,{options:s,isAdministrator:t,setIsSettingModalOpen:n})]})}var Jt=(0,b.jsx)(x.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,b.jsx)(x.Path,{d:"M11 12.5V17.5H12.5V12.5H17.5V11H12.5V6H11V11H6V12.5H11Z"})}),Kt=(0,b.jsx)(x.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,b.jsx)(x.Path,{d:"M10.6 6L9.4 7l4.6 5-4.6 5 1.2 1 5.4-6z"})}),Qt=(0,b.jsx)(x.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",children:(0,b.jsx)(x.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M12 5.5A2.25 2.25 0 0 0 9.878 7h4.244A2.251 2.251 0 0 0 12 5.5ZM12 4a3.751 3.751 0 0 0-3.675 3H5v1.5h1.27l.818 8.997a2.75 2.75 0 0 0 2.739 2.501h4.347a2.75 2.75 0 0 0 2.738-2.5L17.73 8.5H19V7h-3.325A3.751 3.751 0 0 0 12 4Zm4.224 4.5H7.776l.806 8.861a1.25 1.25 0 0 0 1.245 1.137h4.347a1.25 1.25 0 0 0 1.245-1.137l.805-8.861Z"})}),Xt=(0,b.jsx)(x.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,b.jsx)(x.Path,{d:"M17.5 11.6L12 16l-5.5-4.4.9-1.2L12 14l4.5-3.6 1 1.2z"})});function Yt(e){const{name:t,...l}=e,o=`t${t}`;return(0,b.jsx)(o,{...l})}function el(e){const{name:t,...l}=e,o=t;return(0,b.jsx)(o,{...l})}function tl({attributes:e,setAttributes:t,isSelected:l,options:n,vTable:i,tableStylesObj:s,selectedCells:r,setSelectedCells:c,selectedLine:x,setSelectedLine:h,isContentOnlyMode:p}){const{hasFixedLayout:u,isStackedOnMobile:_,sticky:m}=e,g=(0,a.__experimentalUseColorProps)(e),[f,v]=(0,pe.useState)(!1),[w,k]=(0,pe.useState)(!1);(0,pe.useEffect)((()=>k(!0)),[]);const j=(0,pe.useRef)(null),{createWarningNotice:y}=(0,d.useDispatch)(Ce.store);let S=!1;const I=x&&"sectionName"in x&&"rowIndex"in x,H=x&&"vColIndex"in x,N=(e,l)=>{const o=mt(i,{sectionName:e,rowIndex:l});t(jt(o)),c(void 0),h(void 0)},V=(e,l)=>{const o=0===l?e.vColIndex:e.vColIndex+l+e.colSpan-1,n=ft(i,{vColIndex:o});t(jt(n)),c(void 0),h(void 0)},B=()=>{if(!j.current)return;const e=j.current.querySelector('th > [contenteditable="true"], td > [contenteditable="true"]');e&&e.focus()},M=Object.keys(i).reduce(((e,t)=>Ct(i[t])?e:{...e,[t]:i[t].map((e=>({cells:e.cells.filter((e=>!e.isHidden))})))}),{});if(!M)return null;const T=Object.keys(M);return(0,b.jsx)("table",{className:he(g.className,{"has-fixed-layout":u,"is-stacked-on-mobile":_,[`is-sticky-${m}`]:m}),style:{...s,...g.style},ref:j,onKeyDown:e=>{const{key:t}=e;if("Shift"===t||"Control"===t||"Meta"===t)v(!0);else if("Tab"===t&&n.tab_move&&j.current){if(null===e.target.closest(".wp-block-flexible-table-block-table"))return;S=!0;const t=j.current,{ownerDocument:l}=t,{activeElement:o}=l,n=t.querySelector('th.is-selected > [contenteditable="true"], td.is-selected > [contenteditable="true"]'),a=o&&null!==o.closest(".components-popover"),i=!!l.querySelector(".block-editor-link-control");if(!n||a||i)return;const s=t.querySelectorAll('th > [contenteditable="true"], td > [contenteditable="true"]'),r=[].slice.call(s),c=r.findIndex((e=>e===n));if(-1===c)return;let d=e.shiftKey?c-1:c+1;d<0?d=r.length-1:d>=r.length&&(d=0);const b=r[d];if(!b)return;e.preventDefault(),v(!1),b.focus();const x=l.getSelection(),h=l.createRange();x&&b.innerText.trim().length&&(h.selectNodeContents(b),x.removeAllRanges(),x.addRange(h))}},onKeyUp:e=>{const{key:t}=e;if("Shift"===t||"Control"===t||"Meta"===t){if(null===e.target.closest(".wp-block-flexible-table-block-table"))return;v(!1)}},children:T.map(((e,s)=>(0,b.jsx)(Yt,{name:e,children:M[e].map(((d,u)=>(0,b.jsx)("tr",{children:d.cells.map((d=>{const{content:_,tag:m,className:g,id:v,headers:k,scope:j,styles:T,rowSpan:z,colSpan:A,vColIndex:L}=d,R=(r||[]).some((t=>t.sectionName===e&&t.rowIndex===u&&t.vColIndex===L)),Z=ct(T);return(0,b.jsxs)(el,{name:m,className:he(g,{"is-selected":R}),rowSpan:z>1?z:void 0,colSpan:A>1?A:void 0,style:Z,id:v,headers:k,scope:j,onClick:e=>((e,t)=>{const{shiftKey:l,ctrlKey:n,metaKey:a}=e;if(null===e.target.closest(".wp-block-flexible-table-block-table"))return;const{sectionName:s,rowIndex:d,vColIndex:b}=t;if(l)if(r){const e=r.find((({isFirstSelected:e})=>e));if(!e)return;if(e.sectionName!==s)return void y((0,o.__)("Cannot select range cells from difference sections.","flexible-table-block"),{id:"flexible-table-block-range-sections",type:"snackbar"});c(function(e,{fromCell:t,toCell:l}){if(!t||!l)return[];if(t.sectionName!==l.sectionName)return[];const o=St([t,l]);let n=!1,{minRowIndex:a,maxRowIndex:i,minColIndex:s,maxColIndex:r}=o;const c=e[t.sectionName],d=c.length,b=c[0].cells.length,x=c.reduce(((e,t)=>e.concat(t.cells)),[]).map((e=>(e.rowIndex===t.rowIndex&&e.vColIndex===t.vColIndex&&(e.isFirstSelected=!0),e))).filter((e=>!e.isHidden));for(;!n;){const e=x.filter((e=>(e.vColIndex+e.colSpan-1>=s&&e.vColIndex+e.colSpan-1<=r||e.vColIndex>=s&&e.vColIndex<=r)&&e.rowIndex<a&&e.rowIndex+e.rowSpan-1>=a&&e.rowSpan>1)),t=0===a||!e.length;t||a--;const l=x.filter((e=>(e.rowIndex+e.rowSpan-1>=a&&e.rowIndex+e.rowSpan-1<=i||e.rowIndex>=a&&e.rowIndex<=i)&&e.vColIndex<=r&&e.vColIndex+e.colSpan-1>r&&e.colSpan>1)),o=r===b-1||!l.length;o||r++;const c=x.filter((e=>(e.vColIndex+e.colSpan-1>=s&&e.vColIndex+e.colSpan-1<=r||e.vColIndex>=s&&e.vColIndex<=r)&&e.rowIndex<=i&&e.rowIndex+e.rowSpan-1>i&&e.rowSpan-1)),h=i===d-1||!c.length;h||i++;const p=x.filter((e=>(e.rowIndex+e.rowSpan-1>=a&&e.rowIndex+e.rowSpan-1<=i||e.rowIndex>=a&&e.rowIndex<=i)&&e.vColIndex<s&&e.vColIndex+e.colSpan-1>=s&&e.colSpan>1)),u=r===b-1||!p.length;u||s--,n=t&&o&&h&&u}return x.filter((e=>e.rowIndex>=a&&e.rowIndex<=i&&e.vColIndex>=s&&e.vColIndex<=r))}(i,{fromCell:e,toCell:t}))}else c([{...t,isFirstSelected:!0}]);else if(n||a){const e=r?[...r]:[],l=e.findIndex((e=>e.sectionName===s&&e.rowIndex===d&&e.vColIndex===b));if(e.length&&s!==e[0].sectionName)return void y((0,o.__)("Cannot select multi cells from difference sections.","flexible-table-block"),{id:"flexible-table-block-multi-sections",type:"snackbar"});-1===l?e.push(t):e.splice(l,1),c(e)}else c([{...t,isFirstSelected:!0}])})(e,d),children:[l&&!p&&n.show_label_on_section&&0===u&&0===L&&(0,b.jsx)(C.Button,{className:"ftb-table-cell-label",tabIndex:n.focus_control_button?0:-1,variant:"primary",onClick:t=>{(e=>{c(i[e].reduce(((e,t)=>e.concat(t.cells.filter((e=>!e.isHidden)))),[])),h(void 0)})(e),t.stopPropagation()},children:`t${e}`}),l&&!p&&n.show_control_button&&(0,b.jsxs)(b.Fragment,{children:[0===u&&0===L&&(0,b.jsx)(C.Button,{className:he("ftb-row-before-inserter",{"has-prev-section":s>0}),label:(0,o.__)("Insert row before","flexible-table-block"),tabIndex:n.focus_control_button?0:-1,icon:Jt,iconSize:18,onClick:t=>{N(e,u),B(),t.stopPropagation()}}),0===L&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(C.Button,{className:"ftb-row-selector",label:(0,o.__)("Select row","flexible-table-block"),tabIndex:n.focus_control_button?0:-1,icon:Kt,iconSize:16,variant:I&&x.sectionName===e&&x.rowIndex===u?"primary":void 0,onClick:t=>{((e,t)=>{I&&x.sectionName===e&&x.rowIndex===t?(h(void 0),c(void 0)):(h({sectionName:e,rowIndex:t}),c(i[e].reduce(((e,l)=>e.concat(l.cells.filter((e=>e.rowIndex===t&&!e.isHidden)))),[])))})(e,u),t.stopPropagation()}}),I&&x.sectionName===e&&x.rowIndex===u&&(0,b.jsx)(C.Button,{className:"ftb-row-remover",label:(0,o.__)("Delete row","flexible-table-block"),tabIndex:n.focus_control_button?0:-1,size:"compact",icon:Qt,onClick:l=>{((e,l)=>{if(!("body"!==e||1!==i.body.length||Ct(i.head)&&Ct(i.foot)))return void y((0,o.__)("The table body must have one or more rows.","flexible-table-block"),{id:"flexible-table-block-body-row",type:"snackbar"});const n=gt(i,{sectionName:e,rowIndex:l});t(jt(n)),c(void 0),h(void 0)})(e,u),B(),l.stopPropagation()}})]}),0===s&&0===u&&0===L&&(0,b.jsx)(C.Button,{className:"ftb-column-before-inserter",label:(0,o.__)("Insert column before","flexible-table-block"),tabIndex:n.focus_control_button?0:-1,icon:Jt,iconSize:18,onClick:e=>{V(d,0),B(),e.stopPropagation()}}),0===s&&0===u&&(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(C.Button,{className:"ftb-column-selector",label:(0,o.__)("Select column","flexible-table-block"),tabIndex:n.focus_control_button?0:-1,icon:Xt,iconSize:16,variant:H&&x.vColIndex===L?"primary":void 0,onClick:e=>{(e=>{if(H&&x.vColIndex&&x.vColIndex===e)h(void 0),c(void 0);else{const t=yt(i);c(t.reduce(((t,l)=>t.concat(l.cells.filter((t=>t.vColIndex===e&&!t.isHidden)))),[])),h({vColIndex:e})}})(L),e.stopPropagation()}}),H&&x.vColIndex===L&&(0,b.jsx)(C.Button,{className:"ftb-column-remover",label:(0,o.__)("Delete column","flexible-table-block"),tabIndex:n.focus_control_button?0:-1,size:"compact",icon:Qt,onClick:e=>{(e=>{const l=vt(i,{vColIndex:e});t(jt(l)),c(void 0),h(void 0)})(L),B(),e.stopPropagation()}})]}),0===L&&(0,b.jsx)(C.Button,{className:he("ftb-row-after-inserter",{"has-next-section":s<Object.keys(M).length-1&&u+z-1==M[e].length-1}),label:(0,o.__)("Insert row after","flexible-table-block"),tabIndex:n.focus_control_button?0:-1,icon:Jt,iconSize:18,onClick:t=>{N(e,u+z),B(),t.stopPropagation()}})]}),(0,b.jsx)(a.RichText,{value:_,onChange:e=>((e,l)=>{if(!w)return;const{sectionName:o,rowIndex:n,vColIndex:a}=l;c([{...l,isFirstSelected:!0}]);const s={...i,[o]:i[o].map(((t,l)=>l!==n?{cells:t.cells.filter((e=>!e.isHidden))}:{cells:t.cells.map(((t,o)=>l!==n||o!==a?t:{...t,content:e}))}))};t(jt(s))})(e,d),...(!f||S)&&{onFocus:()=>{S=!1,h(void 0),c([{...d,isFirstSelected:!0}])}},"aria-label":U[e]},L),l&&!p&&n.show_control_button&&0===s&&0===u&&(0,b.jsx)(C.Button,{className:"ftb-column-after-inserter",label:(0,o.__)("Insert column after","flexible-table-block"),tabIndex:n.focus_control_button?0:-1,icon:Jt,iconSize:18,onClick:e=>{V(d,1),B(),e.stopPropagation()}})]},L)}))},u)))},s)))})}var ll=(0,b.jsx)(x.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg",children:(0,b.jsx)(x.Path,{fillRule:"evenodd",clipRule:"evenodd",d:"M6 5.5h12a.5.5 0 0 1 .5.5v12a.5.5 0 0 1-.5.5H6a.5.5 0 0 1-.5-.5V6a.5.5 0 0 1 .5-.5ZM4 6a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v12a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2V6Zm4 10h2v-1.5H8V16Zm5 0h-2v-1.5h2V16Zm1 0h2v-1.5h-2V16Z"})});function ol({attributes:e,setAttributes:t,insertBlocksAfter:l,setSelectedLine:i,setSelectedCells:r,captionStylesObj:c,isSelected:d}){const{caption:x=""}=e,h=(0,s.usePrevious)(x),p=a.RichText.isEmpty(x),u=a.RichText.isEmpty(h||""),[_,m]=(0,pe.useState)(!p),g=e=>t({caption:e});(0,pe.useEffect)((()=>{!p&&u&&m(!0)}),[p,u]),(0,pe.useEffect)((()=>{!d&&p&&m(!1)}),[d,p]);const f=(0,pe.useCallback)((e=>{e&&p&&e?.focus()}),[p]);return(0,b.jsxs)(b.Fragment,{children:[d&&(0,b.jsx)(a.BlockControls,{group:"block",children:(0,b.jsx)(C.ToolbarButton,{onClick:()=>{m(!_),_&&x&&g(void 0)},icon:ll,isPressed:_,label:_?(0,o.__)("Remove caption","flexible-table-block"):(0,o.__)("Add caption","flexible-table-block")})}),_&&(!a.RichText.isEmpty(x)||d)&&(0,b.jsx)(a.RichText,{"aria-label":(0,o.__)("Table caption text","flexible-table-block"),placeholder:(0,o.__)("Add caption","flexible-table-block"),tagName:"figcaption",style:c,value:x,ref:f,onChange:g,onFocus:()=>{i(void 0),r(void 0)},__unstableOnSplitAtEnd:()=>l((0,n.createBlock)("core/paragraph"))})]})}function nl({setAttributes:e}){const[t,l]=(0,pe.useState)(3),[n,i]=(0,pe.useState)(3),[s,r]=(0,pe.useState)(!1),[c,d]=(0,pe.useState)(!1),x=t?t+Number(s)+Number(c):void 0,h=x?Number(150/Math.min(10,x)):void 0,p=he("ftb-placeholder__table",{"is-overflow-row":x&&x>10,"is-overflow-col":n&&n>10});return(0,b.jsxs)(C.Placeholder,{label:(0,o.__)("Flexible Table","flexible-table-block"),className:"ftb-placeholder",icon:(0,b.jsx)(a.BlockIcon,{icon:k,showColors:!0}),children:[(0,b.jsx)("div",{className:"components-placeholder__instructions",children:(0,pe.createInterpolateElement)((0,Dt.isAppleOS)()?(0,o.__)("Hint: Hold <code>Command</code> key to select multiple cells. Hold <code>Shift</code> key to select the range.","flexible-table-block"):(0,o.__)("Hint: Hold <code>Ctrl</code> key to select multiple cells. Hold <code>Shift</code> key to select the range.","flexible-table-block"),{code:(0,b.jsx)("code",{})})}),(0,b.jsxs)(C.__experimentalSpacer,{as:C.__experimentalVStack,className:"ftb-placeholder__table-wrap",style:{minHeight:150},alignment:"center",padding:4,marginBottom:0,children:[(0,b.jsx)(C.__experimentalText,{align:"center",isBlock:!0,weight:"500",children:(0,o.__)("Preview","flexible-table-block")}),t&&n&&(0,b.jsxs)("table",{className:p,children:[s&&(0,b.jsx)("thead",{children:(0,b.jsx)("tr",{children:Array.from({length:Math.min(n,10)}).map(((e,t)=>(0,b.jsx)("th",{style:{height:h}},t)))})}),(0,b.jsx)("tbody",{children:Array.from({length:Math.min(t,10)}).map(((e,t)=>(0,b.jsx)("tr",{children:Array.from({length:Math.min(n,10)}).map(((e,t)=>(0,b.jsx)("td",{style:{height:h}},t)))},t)))}),c&&(0,b.jsx)("tfoot",{children:(0,b.jsx)("tr",{children:Array.from({length:Math.min(n,10)}).map(((e,t)=>(0,b.jsx)("td",{style:{height:h}},t)))})})]})]}),(0,b.jsxs)(C.__experimentalVStack,{as:"form",onSubmit:l=>{if(l.preventDefault(),!t||!n)return;const o=function({rowCount:e,colCount:t,headerSection:l,footerSection:o}){const n=(e,t,l)=>Array.from({length:e}).map(((e,o)=>({cells:Array.from({length:t}).map(((e,t)=>({content:"",tag:"head"===l?"th":"td",rowSpan:1,colSpan:1,sectionName:l,rowIndex:o,vColIndex:t,isFirstSelected:!1,isHidden:!1})))})));return{head:n(Number(l),t,"head"),body:n(e,t,"body"),foot:n(Number(o),t,"foot")}}({rowCount:Math.min(t,50),colCount:Math.min(n,50),headerSection:s,footerSection:c});e(jt(o))},children:[(0,b.jsxs)(C.__experimentalHStack,{wrap:!0,justify:"start",children:[(0,b.jsx)(C.ToggleControl,{label:(0,o.__)("Header section","flexible-table-block"),checked:!!s,onChange:e=>r(e),__nextHasNoMarginBottom:!0}),(0,b.jsx)(C.ToggleControl,{label:(0,o.__)("Footer section","flexible-table-block"),checked:!!c,onChange:e=>d(e),__nextHasNoMarginBottom:!0})]}),(0,b.jsxs)(C.__experimentalHStack,{wrap:!0,alignment:"end",justify:"start",children:[(0,b.jsx)(C.TextControl,{label:(0,o.__)("Column count","flexible-table-block"),className:"ftb-placeholder__input",type:"number",min:"1",max:50,value:n||"",onChange:e=>{const t=parseInt(e,10);isNaN(t)?i(void 0):i(Math.max(1,Math.min(50,t)))},__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0}),(0,b.jsx)(C.TextControl,{label:(0,o.__)("Row count","flexible-table-block"),className:"ftb-placeholder__input",type:"number",min:"1",max:50,value:t||"",onChange:e=>{const t=parseInt(e);isNaN(t)?l(void 0):l(Math.max(1,Math.min(50,t)))},__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0}),(0,b.jsx)(C.Button,{variant:"primary",type:"submit",disabled:!t||!n,__next40pxDefaultSize:!0,children:(0,o.__)("Create Table","flexible-table-block")})]})]})]})}const al={from:[{type:"block",blocks:["core/table"],transform:e=>{const{hasFixedLayout:t,head:l,body:o,foot:a,caption:i,style:s}=e,r=e=>e.length?e.map((e=>e.cells.length?{cells:e.cells.map((e=>{const{content:t,tag:l,colspan:o,rowspan:n}=e;return{content:t,tag:l,colSpan:Qe(o),rowSpan:Qe(n)}}))}:e)):e;return(0,n.createBlock)("flexible-table-block/table",{head:r(l),body:r(o),foot:r(a),hasFixedLayout:t,caption:i,style:s})}}],to:[{type:"block",blocks:["core/table"],transform:e=>{const{getBlockType:t}=(0,d.select)(n.store),l=t("core/table"),o=!!l.attributes.head.query.cells.query.rowspan&&!!l.attributes.head.query.cells.query.colspan;let a=kt(e);const i=yt(a).reduce(((e,t)=>e.concat(t.cells)),[]).filter((({rowSpan:e,colSpan:t})=>e>1||t>1));i.length&&!o&&i.forEach((e=>{a=wt(a,e)}));const s=Object.entries(a).reduce(((e,[t,l])=>{if(!l.length)return e;const n=l.map((({cells:e})=>({cells:e.filter((e=>!e.isHidden)).map((e=>({content:e.content,tag:"head"===e.sectionName?"th":"td",rowspan:o?Qe(e.rowSpan):void 0,colspan:o?Qe(e.colSpan):void 0})))})));return e[t]=n,e}),{});return(0,n.createBlock)("core/table",{...s,hasFixedLayout:e.hasFixedLayout,caption:e.caption,style:e.style})}}]},il=[{attributes:{contentJustification:{type:"string"},hasFixedLayout:{type:"boolean",default:!0},isScrollOnPc:{type:"boolean",default:!1},isScrollOnMobile:{type:"boolean",default:!1},isStackedOnMobile:{type:"boolean",default:!1},sticky:{type:"string"},tableStyles:{type:"string",source:"attribute",selector:"table",attribute:"style"},captionSide:{type:"string",default:"bottom"},caption:{type:"string",source:"html",selector:"figcaption"},captionStyles:{type:"string",source:"attribute",selector:"figcaption",attribute:"style"},head:{type:"array",default:[],source:"query",selector:"thead tr",query:{cells:{type:"array",default:[],source:"query",selector:"td,th",query:{content:{type:"string",source:"html"},styles:{type:"string",source:"attribute",attribute:"style"},tag:{type:"string",default:"td",source:"tag"},className:{type:"string",source:"attribute",attribute:"class"},id:{type:"string",source:"attribute",attribute:"id"},headers:{type:"string",source:"attribute",attribute:"headers"},scope:{enum:["row","col","rowgroup","colgroup"],source:"attribute",attribute:"scope"},rowSpan:{type:"string",source:"attribute",attribute:"rowspan"},colSpan:{type:"string",source:"attribute",attribute:"colspan"}}}}},body:{type:"array",default:[],source:"query",selector:"tbody tr",query:{cells:{type:"array",default:[],source:"query",selector:"td,th",query:{content:{type:"string",source:"html"},styles:{type:"string",source:"attribute",attribute:"style"},tag:{type:"string",default:"td",source:"tag"},className:{type:"string",source:"attribute",attribute:"class"},id:{type:"string",source:"attribute",attribute:"id"},headers:{type:"string",source:"attribute",attribute:"headers"},scope:{enum:["row","col","rowgroup","colgroup"],source:"attribute",attribute:"scope"},rowSpan:{type:"string",source:"attribute",attribute:"rowspan"},colSpan:{type:"string",source:"attribute",attribute:"colspan"}}}}},foot:{type:"array",default:[],source:"query",selector:"tfoot tr",query:{cells:{type:"array",default:[],source:"query",selector:"td,th",query:{content:{type:"string",source:"html"},styles:{type:"string",source:"attribute",attribute:"style"},tag:{type:"string",default:"td",source:"tag"},className:{type:"string",source:"attribute",attribute:"class"},id:{type:"string",source:"attribute",attribute:"id"},headers:{type:"string",source:"attribute",attribute:"headers"},scope:{enum:["row","col","rowgroup","colgroup"],source:"attribute",attribute:"scope"},rowSpan:{type:"string",source:"attribute",attribute:"rowspan"},colSpan:{type:"string",source:"attribute",attribute:"colspan"}}}}}},supports:{anchor:!0,align:["left","right","wide","full"],color:{__experimentalSkipSerialization:!0,gradients:!0,link:!0},typography:{fontSize:!0,lineHeight:!0,__experimentalFontFamily:!0,__experimentalTextTransform:!0,__experimentalFontStyle:!0,__experimentalFontWeight:!0,__experimentalLetterSpacing:!0},spacing:{margin:!0},__experimentalSelector:".wp-block-flexible-table-block-table > table"},save({attributes:e}){const{contentJustification:t,tableStyles:l,hasFixedLayout:o,isStackedOnMobile:n,isScrollOnPc:i,isScrollOnMobile:s,sticky:r,head:c,body:d,foot:x,caption:h,captionSide:p,captionStyles:u}=e;if(!c.length&&!d.length&&!x.length)return null;const _=ct(l),m=ct(u),g=(0,a.__experimentalGetColorClassesAndStyles)(e),f=a.useBlockProps.save({className:he({[`is-content-justification-${t}`]:t,"is-scroll-on-pc":i,"is-scroll-on-mobile":s})}),v=he(g.className,{"has-fixed-layout":o,"is-stacked-on-mobile":n,[`is-sticky-${r}`]:r}),w=!a.RichText.isEmpty(h||""),C=({type:e,rows:t})=>{if(!t.length)return null;const l=`t${e}`;return(0,b.jsx)(l,{children:t.map((({cells:e},t)=>(0,b.jsx)("tr",{children:e.map((({content:e,tag:t,className:l,id:o,headers:n,scope:i,rowSpan:s,colSpan:r,styles:c},d)=>(0,b.jsx)(a.RichText.Content,{tagName:t,className:l||void 0,id:"th"===t&&o||void 0,headers:n||void 0,scope:"th"===t&&i||void 0,value:e,rowSpan:Ke(s)>1?Ke(s):void 0,colSpan:Ke(r)>1?Ke(r):void 0,style:ct(c)},d)))},t)))})},k=()=>(0,b.jsx)(a.RichText.Content,{tagName:"figcaption",value:h||"",style:m});return(0,b.jsxs)("figure",{...f,children:[w&&"top"===p&&(0,b.jsx)(k,{}),(0,b.jsxs)("table",{className:null!=v?v:void 0,style:{..._,...g.style},children:[(0,b.jsx)(C,{type:"head",rows:c}),(0,b.jsx)(C,{type:"body",rows:d}),(0,b.jsx)(C,{type:"foot",rows:x})]}),w&&"bottom"===p&&(0,b.jsx)(k,{})]})}}],sl={title:(0,o.__)("Flexible Table","flexible-table-block"),category:"text",description:(0,o.__)("Create a flexible configuration table.","flexible-table-block"),icon:k,example:be,transforms:al,edit:function(e){const{attributes:t,setAttributes:l,isSelected:n,insertBlocksAfter:i}=e,{contentJustification:s,tableStyles:r,captionStyles:c,captionSide:x}=t,[p,u]=(0,pe.useState)(void 0),[_,m]=(0,pe.useState)(void 0),g=ct(r),f=ct(c),v=(0,d.useSelect)((e=>{const{getOptions:t}=e(M);return t()}),[]),{createWarningNotice:w}=(0,d.useDispatch)(Ce.store),k="contentOnly"===(0,a.useBlockEditingMode)();(0,pe.useEffect)((()=>{n||(u(void 0),m(void 0))}),[n]);const S=kt(t),I=e=>{if(!p||1!==p.length)return;const{sectionName:t,rowIndex:o,rowSpan:n}=p[0],a=mt(S,{sectionName:t,rowIndex:0===e?o:o+e+n-1});l(jt(a)),u(void 0),m(void 0)},H=e=>{if(!p||1!==p.length)return;const{vColIndex:t,colSpan:o}=p[0],n=ft(S,{vColIndex:0===e?t:t+e+o-1});l(jt(n)),u(void 0),m(void 0)},N=W.map((({icon:e,label:t,value:o})=>({icon:e,title:t,isActive:s===o,value:o,onClick:()=>(e=>{l({contentJustification:s===e?void 0:e})})(o)}))),V=[{icon:ue,title:(0,o.__)("Insert row before","flexible-table-block"),isDisabled:1!==(p||[]).length,onClick:()=>I(0)},{icon:_e,title:(0,o.__)("Insert row after","flexible-table-block"),isDisabled:1!==(p||[]).length,onClick:()=>I(1)},{icon:me,title:(0,o.__)("Delete row","flexible-table-block"),isDisabled:1!==(p||[]).length,onClick:()=>(()=>{if(!p||1!==p.length)return;const{sectionName:e,rowIndex:t}=p[0];if(!("body"!==e||1!==S.body.length||Ct(S.head)&&Ct(S.foot)))return void w((0,o.__)("The table body must have one or more rows.","flexible-table-block"),{id:"flexible-table-block-body-row",type:"snackbar"});const n=gt(S,{sectionName:e,rowIndex:t});l(jt(n)),u(void 0),m(void 0)})()},{icon:ge,title:(0,o.__)("Insert column before","flexible-table-block"),isDisabled:1!==(p||[]).length,onClick:()=>H(0)},{icon:fe,title:(0,o.__)("Insert column after","flexible-table-block"),isDisabled:1!==(p||[]).length,onClick:()=>H(1)},{icon:ve,title:(0,o.__)("Delete column","flexible-table-block"),isDisabled:1!==(p||[]).length,onClick:()=>(()=>{if(!p||1!==p.length)return;const{vColIndex:e}=p[0],t=vt(S,{vColIndex:e});l(jt(t)),u(void 0),m(void 0)})()},{icon:y,title:(0,o.__)("Split merged cells","flexible-table-block"),isDisabled:!p||!Ht(p),onClick:()=>(()=>{const e=function(e,t){if(!t)return e;const l=t.filter((({rowSpan:e,colSpan:t})=>e>1||t>1));return l.length&&l.forEach((t=>{e=wt(e,t)})),e}(S,p);l(jt(e)),u(void 0),m(void 0)})()},{icon:j,title:(0,o.__)("Merge cells","flexible-table-block"),isDisabled:!p||!It(p),onClick:()=>(()=>{const e=function(e,t,l){if(!t||!t.length)return e;const o=t[0].sectionName,n=St(t),{minRowIndex:a,maxRowIndex:i,minColIndex:s,maxColIndex:r}=n,c=t.filter((({rowSpan:e,colSpan:t})=>e>1||t>1)).length;if(c)for(let t=0;t<c;t++){const t=e[o].reduce(((e,t)=>e.concat(t.cells)),[]).filter((e=>(e.rowSpan>1||e.colSpan>1)&&a<=e.rowIndex&&i>=e.rowIndex&&s<=e.vColIndex&&r>=e.vColIndex));t.length&&(e=wt(e,t[0]))}const d=e[o].reduce(((e,t)=>e.concat(t.cells)),[]).reduce(((e,t)=>(t.rowIndex>=a&&t.rowIndex<=i&&t.vColIndex>=s&&t.vColIndex<=r&&t.content&&e.push(t.content),e)),[]).join("<br>");return{...e,[o]:e[o].map(((e,t)=>t<a||t>i?e:{cells:e.cells.map(((e,o)=>o===s&&t===a?{...e,rowSpan:Math.abs(i-a)+1,colSpan:Math.abs(r-s)+1,content:l?d:e.content}:t>=a&&t<=i&&o>=s&&o<=r?{...e,isHidden:!0}:e))}))}}(S,p,v.merge_content);l(jt(e)),u(void 0),m(void 0)})()}],B=!["head","body","foot"].filter((e=>!Ct(S[e]))).length,T=(0,a.useBlockProps)(),z=(0,a.useBlockProps)({className:he(`is-caption-side-${x}`,{[`is-content-justification-${s}`]:s,"show-dot-on-th":v.show_dot_on_th,"show-control-button":v.show_control_button,"is-content-only":k})}),A={attributes:t,setAttributes:l,isSelected:n,options:v,vTable:S,tableStylesObj:g,selectedCells:p,setSelectedCells:u,selectedLine:_,setSelectedLine:m,isContentOnlyMode:k},L={attributes:t,setAttributes:l,vTable:S,setSelectedCells:u,setSelectedLine:m,tableStylesObj:g},R={setAttributes:l,vTable:S,selectedCells:p},Z=p&&p.length>1?(0,o.__)("Multi cells settings","flexible-table-block"):(0,o.__)("Cell settings","flexible-table-block"),P={attributes:t,setAttributes:l,insertBlocksAfter:i,setSelectedLine:m,setSelectedCells:u,captionStylesObj:f,isSelected:n},O={attributes:t,setAttributes:l,captionStylesObj:f};return(0,b.jsxs)(b.Fragment,{children:[B&&(0,b.jsx)("div",{...T,children:(0,b.jsx)(nl,{...e})}),!B&&(0,b.jsxs)("figure",{...z,children:[!k&&(0,b.jsx)(b.Fragment,{children:(0,b.jsxs)(a.BlockControls,{group:"block",children:[(0,b.jsx)(C.ToolbarDropdownMenu,{label:(0,o.__)("Change table justification","flexible-table-block"),icon:s&&N.find((e=>e.value===s))?.icon||h,controls:N}),(0,b.jsx)(C.ToolbarDropdownMenu,{label:(0,o.__)("Edit table","flexible-table-block"),icon:we,controls:V})]})}),(0,b.jsxs)(a.InspectorControls,{children:[(0,b.jsx)(C.PanelBody,{title:(0,o.__)("Table settings","flexible-table-block"),initialOpen:!1,className:"flexible-table-block-table-settings-panel",children:(0,b.jsx)(Rt,{...L})}),(0,b.jsx)(C.PanelBody,{title:Z,initialOpen:!1,className:"flexible-table-block-table-cell-settings-panel",children:p&&p.length?(0,b.jsx)(Ot,{...R}):(0,b.jsx)(C.__experimentalText,{children:(0,o.__)("No cells selected.","flexible-table-block")})}),(0,b.jsx)(C.PanelBody,{title:(0,o.__)("Caption settings","flexible-table-block"),initialOpen:!1,className:"flexible-table-block-table-caption-settings-panel",children:(0,b.jsx)(Zt,{...O})})]}),"top"===x&&(0,b.jsx)(ol,{...P}),(0,b.jsx)(tl,{...A}),"bottom"===x&&(0,b.jsx)(ol,{...P})]})]})},save:function({attributes:e}){const{contentJustification:t,tableStyles:l,hasFixedLayout:o,isStackedOnMobile:n,isScrollOnPc:i,isScrollOnMobile:s,sticky:r,head:c,body:d,foot:x,caption:h,captionSide:p,captionStyles:u}=e;if(!c.length&&!d.length&&!x.length)return null;const _=ct(l),m=ct(u),g=(0,a.__experimentalGetColorClassesAndStyles)(e),f=a.useBlockProps.save({className:he({[`is-content-justification-${t}`]:t,"is-scroll-on-pc":i,"is-scroll-on-mobile":s})}),v=he(g.className,{"has-fixed-layout":o,"is-stacked-on-mobile":n,[`is-sticky-${r}`]:r}),w=!a.RichText.isEmpty(h||""),C=({type:e,rows:t})=>{if(!t.length)return null;const l=`t${e}`;return(0,b.jsx)(l,{children:t.map((({cells:e},t)=>(0,b.jsx)("tr",{children:e.map((({content:e,tag:t,className:l,id:o,headers:n,scope:i,rowSpan:s,colSpan:r,styles:c},d)=>(0,b.jsx)(a.RichText.Content,{tagName:t,className:l||void 0,id:"th"===t&&o||void 0,headers:n||void 0,scope:"th"===t&&i||void 0,value:e,rowSpan:Ke(s)>1?Ke(s):void 0,colSpan:Ke(r)>1?Ke(r):void 0,style:ct(c)},d)))},t)))})},k=()=>(0,b.jsx)(a.RichText.Content,{tagName:"figcaption",value:h||"",style:m});return(0,b.jsxs)("figure",{...f,children:[w&&"top"===p&&(0,b.jsx)(k,{}),(0,b.jsxs)("table",{className:null!=v?v:void 0,style:{..._,...g.style},children:[(0,b.jsx)(C,{type:"head",rows:c}),(0,b.jsx)(C,{type:"body",rows:d}),(0,b.jsx)(C,{type:"foot",rows:x})]}),w&&"bottom"===p&&(0,b.jsx)(k,{})]})},deprecated:il,styles:[{name:"stripes",label:(0,o.__)("Stripes","flexible-table-block")}]};(0,n.registerBlockType)(de.UU,sl);const rl=(0,s.createHigherOrderComponent)((e=>t=>{const{name:l}=t;return"flexible-table-block/table"!==l?(0,b.jsx)(e,{...t}):(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)(a.InspectorControls,{children:(0,b.jsx)(qt,{})}),(0,b.jsx)(e,{...t})]})}),"withInspectorControl");(0,i.addFilter)("editor.BlockEdit","flexible-table-block/withInspectorControls",rl)},449:e=>{e.exports=function e(t,l,o){var n,a,i,s;for(n=0,a=t.length;n<a;n+=1)i=t[n],o||(s=l(i,n,t)),!1!==s&&"function"===i.type&&Array.isArray(i.nodes)&&e(i.nodes,l,o),o&&l(i,n,t)}},482:(e,t,l)=>{var o=l(809),n=l(449),a=l(63);function i(e){return this instanceof i?(this.nodes=o(e),this):new i(e)}i.prototype.toString=function(){return Array.isArray(this.nodes)?a(this.nodes):""},i.prototype.walk=function(e,t){return n(this.nodes,e,t),this},i.unit=l(882),i.walk=n,i.stringify=a,e.exports=i},809:e=>{var t="(".charCodeAt(0),l=")".charCodeAt(0),o="'".charCodeAt(0),n='"'.charCodeAt(0),a="\\".charCodeAt(0),i="/".charCodeAt(0),s=",".charCodeAt(0),r=":".charCodeAt(0),c="*".charCodeAt(0),d="u".charCodeAt(0),b="U".charCodeAt(0),x="+".charCodeAt(0),h=/^[a-f0-9?-]+$/i;e.exports=function(e){for(var p,u,_,m,g,f,v,w,C,k=[],j=e,y=0,S=j.charCodeAt(y),I=j.length,H=[{nodes:k}],N=0,V="",B="",M="";y<I;)if(S<=32){p=y;do{p+=1,S=j.charCodeAt(p)}while(S<=32);m=j.slice(y,p),_=k[k.length-1],S===l&&N?M=m:_&&"div"===_.type?(_.after=m,_.sourceEndIndex+=m.length):S===s||S===r||S===i&&j.charCodeAt(p+1)!==c&&(!C||C&&"function"===C.type&&"calc"!==C.value)?B=m:k.push({type:"space",sourceIndex:y,sourceEndIndex:p,value:m}),y=p}else if(S===o||S===n){p=y,m={type:"string",sourceIndex:y,quote:u=S===o?"'":'"'};do{if(g=!1,~(p=j.indexOf(u,p+1)))for(f=p;j.charCodeAt(f-1)===a;)f-=1,g=!g;else p=(j+=u).length-1,m.unclosed=!0}while(g);m.value=j.slice(y+1,p),m.sourceEndIndex=m.unclosed?p:p+1,k.push(m),y=p+1,S=j.charCodeAt(y)}else if(S===i&&j.charCodeAt(y+1)===c)m={type:"comment",sourceIndex:y,sourceEndIndex:(p=j.indexOf("*/",y))+2},-1===p&&(m.unclosed=!0,p=j.length,m.sourceEndIndex=p),m.value=j.slice(y+2,p),k.push(m),y=p+2,S=j.charCodeAt(y);else if(S!==i&&S!==c||!C||"function"!==C.type||"calc"!==C.value)if(S===i||S===s||S===r)m=j[y],k.push({type:"div",sourceIndex:y-B.length,sourceEndIndex:y+m.length,value:m,before:B,after:""}),B="",y+=1,S=j.charCodeAt(y);else if(t===S){p=y;do{p+=1,S=j.charCodeAt(p)}while(S<=32);if(w=y,m={type:"function",sourceIndex:y-V.length,value:V,before:j.slice(w+1,p)},y=p,"url"===V&&S!==o&&S!==n){p-=1;do{if(g=!1,~(p=j.indexOf(")",p+1)))for(f=p;j.charCodeAt(f-1)===a;)f-=1,g=!g;else p=(j+=")").length-1,m.unclosed=!0}while(g);v=p;do{v-=1,S=j.charCodeAt(v)}while(S<=32);w<v?(m.nodes=y!==v+1?[{type:"word",sourceIndex:y,sourceEndIndex:v+1,value:j.slice(y,v+1)}]:[],m.unclosed&&v+1!==p?(m.after="",m.nodes.push({type:"space",sourceIndex:v+1,sourceEndIndex:p,value:j.slice(v+1,p)})):(m.after=j.slice(v+1,p),m.sourceEndIndex=p)):(m.after="",m.nodes=[]),y=p+1,m.sourceEndIndex=m.unclosed?p:y,S=j.charCodeAt(y),k.push(m)}else N+=1,m.after="",m.sourceEndIndex=y+1,k.push(m),H.push(m),k=m.nodes=[],C=m;V=""}else if(l===S&&N)y+=1,S=j.charCodeAt(y),C.after=M,C.sourceEndIndex+=M.length,M="",N-=1,H[H.length-1].sourceEndIndex=y,H.pop(),k=(C=H[N]).nodes;else{p=y;do{S===a&&(p+=1),p+=1,S=j.charCodeAt(p)}while(p<I&&!(S<=32||S===o||S===n||S===s||S===r||S===i||S===t||S===c&&C&&"function"===C.type&&"calc"===C.value||S===i&&"function"===C.type&&"calc"===C.value||S===l&&N));m=j.slice(y,p),t===S?V=m:d!==m.charCodeAt(0)&&b!==m.charCodeAt(0)||x!==m.charCodeAt(1)||!h.test(m.slice(2))?k.push({type:"word",sourceIndex:y,sourceEndIndex:p,value:m}):k.push({type:"unicode-range",sourceIndex:y,sourceEndIndex:p,value:m}),y=p}else m=j[y],k.push({type:"word",sourceIndex:y-B.length,sourceEndIndex:y+m.length,value:m}),y+=1,S=j.charCodeAt(y);for(y=H.length-1;y;y-=1)H[y].unclosed=!0,H[y].sourceEndIndex=j.length;return H[0].nodes}},882:e=>{var t="-".charCodeAt(0),l="+".charCodeAt(0),o=".".charCodeAt(0),n="e".charCodeAt(0),a="E".charCodeAt(0);e.exports=function(e){var i,s,r,c=0,d=e.length;if(0===d||!function(e){var n,a=e.charCodeAt(0);if(a===l||a===t){if((n=e.charCodeAt(1))>=48&&n<=57)return!0;var i=e.charCodeAt(2);return n===o&&i>=48&&i<=57}return a===o?(n=e.charCodeAt(1))>=48&&n<=57:a>=48&&a<=57}(e))return!1;for((i=e.charCodeAt(c))!==l&&i!==t||c++;c<d&&!((i=e.charCodeAt(c))<48||i>57);)c+=1;if(i=e.charCodeAt(c),s=e.charCodeAt(c+1),i===o&&s>=48&&s<=57)for(c+=2;c<d&&!((i=e.charCodeAt(c))<48||i>57);)c+=1;if(i=e.charCodeAt(c),s=e.charCodeAt(c+1),r=e.charCodeAt(c+2),(i===n||i===a)&&(s>=48&&s<=57||(s===l||s===t)&&r>=48&&r<=57))for(c+=s===l||s===t?3:2;c<d&&!((i=e.charCodeAt(c))<48||i>57);)c+=1;return{number:e.slice(0,c),unit:e.slice(c)}}}},l={};function o(e){var n=l[e];if(void 0!==n)return n.exports;var a=l[e]={exports:{}};return t[e](a,a.exports,o),a.exports}o.m=t,e=[],o.O=(t,l,n,a)=>{if(!l){var i=1/0;for(d=0;d<e.length;d++){for(var[l,n,a]=e[d],s=!0,r=0;r<l.length;r++)(!1&a||i>=a)&&Object.keys(o.O).every((e=>o.O[e](l[r])))?l.splice(r--,1):(s=!1,a<i&&(i=a));if(s){e.splice(d--,1);var c=n();void 0!==c&&(t=c)}}return t}a=a||0;for(var d=e.length;d>0&&e[d-1][2]>a;d--)e[d]=e[d-1];e[d]=[l,n,a]},o.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return o.d(t,{a:t}),t},o.d=(e,t)=>{for(var l in t)o.o(t,l)&&!o.o(e,l)&&Object.defineProperty(e,l,{enumerable:!0,get:t[l]})},o.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={57:0,350:0};o.O.j=t=>0===e[t];var t=(t,l)=>{var n,a,[i,s,r]=l,c=0;if(i.some((t=>0!==e[t]))){for(n in s)o.o(s,n)&&(o.m[n]=s[n]);if(r)var d=r(o)}for(t&&t(l);c<i.length;c++)a=i[c],o.o(e,a)&&e[a]&&e[a][0](),e[a]=0;return o.O(d)},l=globalThis.webpackChunkflexible_table_block=globalThis.webpackChunkflexible_table_block||[];l.forEach(t.bind(null,0)),l.push=t.bind(null,l.push.bind(l))})();var n=o.O(void 0,[350],(()=>o(377)));n=o.O(n)})();